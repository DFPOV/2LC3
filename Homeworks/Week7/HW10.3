â€” Homework 10 Notebook 3: Relations via Set Theory: Definitions
[1]
Preloaded here is all set theory from Ref6.1, and also the pairs and Cartesian product material from H10.1 and H10.2, in particular:

Axiom   (14.2) â€œPair equalityâ€:       âŸ¨ b, c âŸ© = âŸ¨ b', c' âŸ©  â‰¡  b = b' âˆ§ c = c'
Theorem (14.4) â€œMembership in Ã—â€:     âŸ¨ x, y âŸ© âˆˆ S Ã— T       â‰¡  x âˆˆ S  âˆ§ y âˆˆ T
[2]
Relationship
[3]
A binary relation is a set of pairs.

Thereforem, the type â€œtâ‚ â†” tâ‚‚â€ of all binary relations from tâ‚ to tâ‚‚ is the type of all possible sets of pairs with first constituent of type tâ‚ and second constituent of type tâ‚‚:

    â€œDefinition of â†”â€:  tâ‚ â†” tâ‚‚  =  set â° tâ‚ , tâ‚‚ â±
[4]
For infix relationship we use the following notation:

`a â¦— R â¦˜ b`
This means that a is related with b via relation R.

The brackets in this notation are called â€œtortoise shell bracketsâ€ by Unicode. Type \lrel or \(( for â¦—, and \rrel or \)) for â¦˜.

[5]
Precedence 50 for:  _â¦—_â¦˜_
Conjunctional:  _â¦—_â¦˜_

Precedence 50 for: _â¦—_â¦˜_
Conjunctional: _â¦—_â¦˜_
[6]
Declaration: _â¦—_â¦˜_ : t â†’ (t â†” u) â†’ u â†’ ğ”¹

Declaration: _â¦—_â¦˜_ : t â†’ (t â†” u â†’ (u â†’ ğ”¹))   
    â€” CalcCheck: Operator _â¦—_â¦˜_: Conjunctional; precedence 50
[7]
We made infix relationship conjunctional, so you have:

[8]
Calculation:
    a â¦— R â¦˜ b â¦— S â¦˜ c
  â‰¡âŸ¨ â€œReflexivity of â‰¡â€ âŸ©
    a â¦— R â¦˜ b   âˆ§  b â¦— S â¦˜ c 

Calculation:
        a â¦— R â¦˜ b â¦— S â¦˜ c
    â‰¡ âŸ¨ â€œReflexivity of â‰¡â€ âŸ©
            â€” CalcCheck: Found (3.5) â€œReflexivity of â‰¡â€
            â€” CalcCheck: OK (no change)
            â€” CalcCheck: â”€ OK
        a â¦— R â¦˜ b âˆ§ b â¦— S â¦˜ c
â€” CalcCheck: All steps OK
â€” CalcCheck: Metavariables: R = Rã€–ã€—, S = Sã€–ã€—
[9]
Axiom â€œInfix relationshipâ€ â€œDefinition of `_â¦—_â¦˜_`â€:
    a â¦— R â¦˜ b  â‰¡  âŸ¨ a , b âŸ© âˆˆ R

Axiom â€œInfix relationshipâ€ â€œDefinition of `_â¦—_â¦˜_`â€: a â¦— R â¦˜ b â‰¡ âŸ¨a, bâŸ© âˆˆ R   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—
[10]
Relationship turns a relation R : A â†” B into a binary infix predicate _â¦— R â¦˜_ (this â€œmixed underscoreâ€ notation is not yet supported by CalcCheck).

The axiom â€œInfix relationshipâ€ is the connection between the infix relationship notation a â¦— R â¦˜ b and the set membership of pairs âŸ¨ a , b âŸ© âˆˆ R, and will therefore be needed for justifying basic relationship properties via set theory.

[11]
â€œRelation extensionalityâ€ and â€œRelation inclusionâ€ are the main bridge between properties formulated at the level of relations (and their operations) and predicate-logic formulations.

[12]
Theorem â€œRelation inclusionâ€:
    R âŠ† S  â‰¡  (âˆ€ x â€¢ âˆ€ y â€¢ x â¦— R â¦˜ y  â‡’  x â¦— S â¦˜ y)
Proof:
  Using â€œMutual implicationâ€:
    Subproof for `R âŠ† S â‡’ (âˆ€ x â€¢ âˆ€ y â€¢ x â¦— R â¦˜ y  â‡’  x â¦— S â¦˜ y)`:
      Assuming `R âŠ† S`:    
        For any `x`, `y`:
            x â¦— R â¦˜ y
          â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
            âŸ¨ x , y âŸ© âˆˆ R
          â‡’âŸ¨ â€œCastingâ€with Assumption `R âŠ† S`âŸ©
            âŸ¨ x , y âŸ© âˆˆ S 
          â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
            x â¦— S â¦˜ y 
               
    Subproof for `(âˆ€ x â€¢ âˆ€ y â€¢ x â¦— R â¦˜ y  â‡’  x â¦— S â¦˜ y) â‡’ R âŠ† S`:
      Assuming â€œAâ€ `(âˆ€ x â€¢ âˆ€ y â€¢ x â¦— R â¦˜ y  â‡’  x â¦— S â¦˜ y)`:
        Using â€œDefinition of âŠ†â€:
          For any `e`:
              e âˆˆ R
            â‰¡âŸ¨ â€œPair extensionalityâ€âŸ©
              âŸ¨ fst e , snd e âŸ© âˆˆ R
            â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
              fst e â¦— R â¦˜ snd e
            â‡’âŸ¨ Assumption â€œAâ€ âŸ©
              fst e â¦— S â¦˜ snd e 
            â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
              âŸ¨ fst e , snd e âŸ© âˆˆ S
            â‰¡âŸ¨ â€œPair extensionalityâ€âŸ©
              e âˆˆ S   
          
        
           
    

Theorem â€œRelation inclusionâ€: R âŠ† S â‰¡ (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y ) )   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—, S = Sã€–ã€—   
    â€” CalcCheck: Proviso: Â¬occurs(`x, y`, `R, S`)
Proof:
    Using â€œMutual implicationâ€:       
        â€” CalcCheck: Found (3.80) â€œMutual implicationâ€
        Subproof for `R âŠ† S â‡’ (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y ) )`:
            Assuming `R âŠ† S`:
            â€” CalcCheck: Assumption matches goal
                For any ` x`:
                    For any ` y`:
                        Calculation for expected goal  `x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y`:
                                x â¦— R â¦˜ y
                            â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                                    â€” CalcCheck: Found â€œInfix relationshipâ€
                                    â€” CalcCheck: â”€ OK
                                âŸ¨x, yâŸ© âˆˆ R
                            â‡’ âŸ¨ â€œCastingâ€ with Assumption `R âŠ† S` âŸ©
                                    â€” CalcCheck: Found (11.13c) â€œSubset membershipâ€
                                    â€” CalcCheck: Found assumption `R âŠ† S`
                                    â€” CalcCheck: â”€ OK
                                âŸ¨x, yâŸ© âˆˆ S
                            â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                                    â€” CalcCheck: Found â€œInfix relationshipâ€
                                    â€” CalcCheck: â”€ OK
                                x â¦— S â¦˜ y                        
                        â€” CalcCheck: All steps OK                       
                        â€” CalcCheck: Calculation matches goal â”€ OK
        Subproof for `(âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y ) ) â‡’ R âŠ† S`:
            Assuming â€œAâ€ `(âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y ) )`:
            â€” CalcCheck: Assumption matches goal
                Using â€œDefinition of âŠ†â€:                   
                    â€” CalcCheck: Found (11.13b) â€œSet inclusionâ€, (11.13) â€œSet inclusionâ€
                    Subproof establishing `(âˆ€ e â€¢ e âˆˆ R â‡’ e âˆˆ S )`:
                        For any ` e`:
                            Calculation establishing  `e âˆˆ R â‡’ e âˆˆ S`:
                                    e âˆˆ R
                                â‰¡ âŸ¨ â€œPair extensionalityâ€ âŸ©
                                        â€” CalcCheck: Found â€œPair extensionalityâ€
                                        â€” CalcCheck: â”€ OK
                                    âŸ¨fst e, snd eâŸ© âˆˆ R
                                â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                                        â€” CalcCheck: Found â€œInfix relationshipâ€
                                        â€” CalcCheck: â”€ OK
                                    fst e â¦— R â¦˜ snd e
                                â‡’ âŸ¨ Assumption â€œAâ€ âŸ©
                                        â€” CalcCheck: Found assumption â€œAâ€
                                        â€” CalcCheck: â”€ OK
                                    fst e â¦— S â¦˜ snd e
                                â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                                        â€” CalcCheck: Found â€œInfix relationshipâ€
                                        â€” CalcCheck: â”€ OK
                                    âŸ¨fst e, snd eâŸ© âˆˆ S
                                â‰¡ âŸ¨ â€œPair extensionalityâ€ âŸ©
                                        â€” CalcCheck: Found â€œPair extensionalityâ€
                                        â€” CalcCheck: â”€ OK
                                    e âˆˆ S                            
                            â€” CalcCheck: All steps OK
[13]
Theorem â€œRelation extensionalityâ€:
    R = S  â‰¡  (âˆ€ x â€¢ âˆ€ y â€¢ x â¦— R â¦˜ y  â‰¡  x â¦— S â¦˜ y)
Proof:
    R = S
  â‰¡âŸ¨ â€œMutual inclusionâ€ âŸ©
    R âŠ† S  âˆ§  S âŠ† R
  â‰¡âŸ¨ â€œRelation inclusionâ€ âŸ©
    (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y )) âˆ§ (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— S â¦˜ y â‡’ x â¦— R â¦˜ y )) 
  â‰¡âŸ¨ â€œDistributivity of âˆ€ over âˆ§â€âŸ© 
    (âˆ€ x â€¢ ((âˆ€ y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y) âˆ§ (âˆ€ y â€¢ x â¦— S â¦˜ y â‡’ x â¦— R â¦˜ y)))
  â‰¡âŸ¨ â€œDistributivity of âˆ€ over âˆ§â€âŸ©
    (âˆ€ x â€¢ (âˆ€ y â€¢ ((x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y) âˆ§ (x â¦— S â¦˜ y â‡’ x â¦— R â¦˜ y))))
  â‰¡âŸ¨ â€œMutual implicationâ€âŸ© 
    âˆ€ x â€¢ âˆ€ y â€¢ x â¦— R â¦˜ y  â‰¡  x â¦— S â¦˜ y

Theorem â€œRelation extensionalityâ€: R = S â‰¡ (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‰¡ x â¦— S â¦˜ y ) )   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—, S = Sã€–ã€—   
    â€” CalcCheck: Proviso: Â¬occurs(`x, y`, `R, S`)
Proof:
    Calculation for expected goal  `R = S â‰¡ (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‰¡ x â¦— S â¦˜ y ) )`:
            R = S
        â‰¡ âŸ¨ â€œMutual inclusionâ€ âŸ©
                â€” CalcCheck: Found (11.57) â€œMutual inclusionâ€
                â€” CalcCheck: â”€ OK
            R âŠ† S âˆ§ S âŠ† R
        â‰¡ âŸ¨ â€œRelation inclusionâ€ âŸ©
                â€” CalcCheck: Found â€œRelation inclusionâ€
                â€” CalcCheck: â”€ OK
            (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y ) ) âˆ§ (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— S â¦˜ y â‡’ x â¦— R â¦˜ y ) )
        â‰¡ âŸ¨ â€œDistributivity of âˆ€ over âˆ§â€ âŸ©
                â€” CalcCheck: Found (8.15) â€œDistributivity of âˆ€ over âˆ§â€
                â€” CalcCheck: â”€ OK
            (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y ) âˆ§ (âˆ€ y â€¢ x â¦— S â¦˜ y â‡’ x â¦— R â¦˜ y ) )
        â‰¡ âŸ¨ â€œDistributivity of âˆ€ over âˆ§â€ âŸ©
                â€” CalcCheck: Found (8.15) â€œDistributivity of âˆ€ over âˆ§â€
                â€” CalcCheck: â”€ OK
            (âˆ€ x â€¢ (âˆ€ y â€¢ (x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y) âˆ§ (x â¦— S â¦˜ y â‡’ x â¦— R â¦˜ y) ) )
        â‰¡ âŸ¨ â€œMutual implicationâ€ âŸ©
                â€” CalcCheck: Found (3.80) â€œMutual implicationâ€
                â€” CalcCheck: â”€ OK
            (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‰¡ x â¦— S â¦˜ y ) )    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[14]
Different presentations of these will frequently come in handy:

[15]
Corollary â€œRelation extensionalityâ€:
    R = S  â‰¡  (âˆ€ x, y â€¢ x â¦— R â¦˜ y  â‰¡  x â¦— S â¦˜ y)
Proof:
    (âˆ€ x, y â€¢ x â¦— R â¦˜ y  â‰¡  x â¦— S â¦˜ y) 
  â‰¡âŸ¨ â€œNesting for âˆ€â€âŸ©
    (âˆ€ x â€¢ âˆ€ y â€¢ x â¦— R â¦˜ y  â‰¡  x â¦— S â¦˜ y)
  â‰¡âŸ¨ â€œRelation extensionalityâ€âŸ©
    R = S
 

Corollary â€œRelation extensionalityâ€: R = S â‰¡ (âˆ€ x, y â€¢ x â¦— R â¦˜ y â‰¡ x â¦— S â¦˜ y )   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—, S = Sã€–ã€—   
    â€” CalcCheck: Proviso: Â¬occurs(`x, y`, `R, S`)
Proof:
    Calculation for expected goal  `R = S â‰¡ (âˆ€ x, y â€¢ x â¦— R â¦˜ y â‰¡ x â¦— S â¦˜ y )`:
            (âˆ€ x, y â€¢ x â¦— R â¦˜ y â‰¡ x â¦— S â¦˜ y )
        â‰¡ âŸ¨ â€œNesting for âˆ€â€ âŸ©
                â€” CalcCheck: Found (8.20.2) â€œNesting for âˆ€â€, (8.20.1) â€œNesting for âˆ€â€, (8.20) â€œNesting for âˆ€â€
                â€” CalcCheck: â”€ OK
            (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‰¡ x â¦— S â¦˜ y ) )
        â‰¡ âŸ¨ â€œRelation extensionalityâ€ âŸ©
                â€” CalcCheck: Found â€œRelation extensionalityâ€
                â€” CalcCheck: â”€ OK
            R = S    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[16]
Corollary â€œRelation inclusionâ€:
    R âŠ† S  â‰¡  (âˆ€ x â€¢ âˆ€ y â™ x â¦— R â¦˜ y  â€¢  x â¦— S â¦˜ y)
Proof:
    R âŠ† S
  â‰¡âŸ¨ â€œRelation inclusionâ€âŸ©
    (âˆ€ x â€¢ âˆ€ y â€¢ x â¦— R â¦˜ y  â‡’  x â¦— S â¦˜ y)
  â‰¡âŸ¨ â€œTrading for âˆ€â€âŸ©
    (âˆ€ x â€¢ âˆ€ y â™ x â¦— R â¦˜ y  â€¢  x â¦— S â¦˜ y)
     

Corollary â€œRelation inclusionâ€: R âŠ† S â‰¡ (âˆ€ x â€¢ (âˆ€ y â™ x â¦— R â¦˜ y â€¢ x â¦— S â¦˜ y ) )   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—, S = Sã€–ã€—   
    â€” CalcCheck: Proviso: Â¬occurs(`x, y`, `R, S`)
Proof:
    Calculation for expected goal  `R âŠ† S â‰¡ (âˆ€ x â€¢ (âˆ€ y â™ x â¦— R â¦˜ y â€¢ x â¦— S â¦˜ y ) )`:
            R âŠ† S
        â‰¡ âŸ¨ â€œRelation inclusionâ€ âŸ©
                â€” CalcCheck: Found â€œRelation inclusionâ€
                â€” CalcCheck: â”€ OK
            (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y ) )
        â‰¡ âŸ¨ â€œTrading for âˆ€â€ âŸ©
                â€” CalcCheck: Found (9.3a) â€œTrading for âˆ€â€, (9.3b) â€œTrading for âˆ€â€, (9.3c) â€œTrading for âˆ€â€, (9.4a) â€œTrading for âˆ€â€, (9.4b) â€œTrading for âˆ€â€, (9.4c) â€œTrading for âˆ€â€, (9.4d) â€œTrading for âˆ€â€, (9.2) â€œTrading for âˆ€â€
                â€” CalcCheck: â”€ OK
            (âˆ€ x â€¢ (âˆ€ y â™ x â¦— R â¦˜ y â€¢ x â¦— S â¦˜ y ) )    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[17]
Corollary â€œRelation inclusionâ€:
    R âŠ† S  â‰¡  (âˆ€ x, y â€¢ x â¦— R â¦˜ y  â‡’  x â¦— S â¦˜ y)
Proof:
    R âŠ† S
  â‰¡âŸ¨ â€œRelation inclusionâ€âŸ©
    (âˆ€ x â€¢ âˆ€ y â€¢ x â¦— R â¦˜ y  â‡’  x â¦— S â¦˜ y) 
  â‰¡âŸ¨ â€œNesting for âˆ€â€âŸ©
    (âˆ€ x, y â€¢ x â¦— R â¦˜ y  â‡’  x â¦— S â¦˜ y) 
    

Corollary â€œRelation inclusionâ€: R âŠ† S â‰¡ (âˆ€ x, y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y )   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—, S = Sã€–ã€—   
    â€” CalcCheck: Proviso: Â¬occurs(`x, y`, `R, S`)
Proof:
    Calculation for expected goal  `R âŠ† S â‰¡ (âˆ€ x, y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y )`:
            R âŠ† S
        â‰¡ âŸ¨ â€œRelation inclusionâ€ âŸ©
                â€” CalcCheck: Found â€œRelation inclusionâ€
                â€” CalcCheck: â”€ OK
            (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y ) )
        â‰¡ âŸ¨ â€œNesting for âˆ€â€ âŸ©
                â€” CalcCheck: Found (8.20.2) â€œNesting for âˆ€â€, (8.20.1) â€œNesting for âˆ€â€, (8.20) â€œNesting for âˆ€â€
                â€” CalcCheck: â”€ OK
            (âˆ€ x, y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y )    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[18]
Corollary â€œRelation inclusionâ€:
    R âŠ† S  â‰¡  (âˆ€ x, y â™ x â¦— R â¦˜ y  â€¢  x â¦— S â¦˜ y)
Proof:
    R âŠ† S
  â‰¡âŸ¨ â€œRelation inclusionâ€âŸ©
    (âˆ€ x â€¢ âˆ€ y â€¢ x â¦— R â¦˜ y  â‡’  x â¦— S â¦˜ y ) 
  â‰¡âŸ¨ â€œTrading for âˆ€â€âŸ©
    (âˆ€ x â€¢ âˆ€ y â™ x â¦— R â¦˜ y  â€¢  x â¦— S â¦˜ y ) 
  â‰¡âŸ¨ â€œNesting for âˆ€â€âŸ©
    (âˆ€ x, y â™ x â¦— R â¦˜ y  â€¢  x â¦— S â¦˜ y )  

Corollary â€œRelation inclusionâ€: R âŠ† S â‰¡ (âˆ€ x, y â™ x â¦— R â¦˜ y â€¢ x â¦— S â¦˜ y )   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—, S = Sã€–ã€—   
    â€” CalcCheck: Proviso: Â¬occurs(`x, y`, `R, S`)
Proof:
    Calculation for expected goal  `R âŠ† S â‰¡ (âˆ€ x, y â™ x â¦— R â¦˜ y â€¢ x â¦— S â¦˜ y )`:
            R âŠ† S
        â‰¡ âŸ¨ â€œRelation inclusionâ€ âŸ©
                â€” CalcCheck: Found â€œRelation inclusionâ€
                â€” CalcCheck: â”€ OK
            (âˆ€ x â€¢ (âˆ€ y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y ) )
        â‰¡ âŸ¨ â€œTrading for âˆ€â€ âŸ©
                â€” CalcCheck: Found (9.3a) â€œTrading for âˆ€â€, (9.3b) â€œTrading for âˆ€â€, (9.3c) â€œTrading for âˆ€â€, (9.4a) â€œTrading for âˆ€â€, (9.4b) â€œTrading for âˆ€â€, (9.4c) â€œTrading for âˆ€â€, (9.4d) â€œTrading for âˆ€â€, (9.2) â€œTrading for âˆ€â€
                â€” CalcCheck: â”€ OK
            (âˆ€ x â€¢ (âˆ€ y â™ x â¦— R â¦˜ y â€¢ x â¦— S â¦˜ y ) )
        â‰¡ âŸ¨ â€œNesting for âˆ€â€ âŸ©
                â€” CalcCheck: Found (8.20.2) â€œNesting for âˆ€â€, (8.20.1) â€œNesting for âˆ€â€, (8.20) â€œNesting for âˆ€â€
                â€” CalcCheck: â”€ OK
            (âˆ€ x, y â™ x â¦— R â¦˜ y â€¢ x â¦— S â¦˜ y )    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[19]
Note:

â€œ(âˆ€ x, y â€¢ P)â€ can be shown by â€œFor any `x, y`: â€¦â€;
â€œ(âˆ€ x, y â™ R â€¢ P)â€ can be shown by â€œFor any `x, y` satisfying `R`: â€¦â€;
â€œ(âˆ€ x â€¢ âˆ€ y â€¢ P)â€ can be shown by â€œFor any `x`, `y`: â€¦â€, and
â€œ(âˆ€ x â€¢ âˆ€ y â™ R â€¢ P)â€ can be shown by â€œFor any `x`, `y` satisfying `R`: â€¦â€.
[20]
Relationship turns a relation R : A â†” B into a binary infix predicate _â¦— R â¦˜_ (notation not yet supported by CalcCheck); we introduce âŒœ_âŒ for the inverse operation:

[21]
Declaration:  âŒœ_âŒ : (A â†’ B â†’ ğ”¹) â†’ (A â†” B)

Declaration: âŒœ_âŒ : (A â†’ (B â†’ ğ”¹)) â†’ A â†” B
[22]
Axiom â€œRelationship via âŒœ_âŒâ€:
    a â¦— âŒœ f âŒ â¦˜ b  â‰¡  f a b

Axiom â€œRelationship via âŒœ_âŒâ€: a â¦— âŒœ f âŒ â¦˜ b â‰¡ (f a) b
[23]
Set Operations used as Relation Operations
[24]
When set operations are used as relation operations, direct characterisations in terms of relationship _â¦—_â¦˜_ (instead of membership _âˆˆ_) are useful.

These characterisatins are easily proved via the definition of _â¦—_â¦˜_ and the corresponding set properties.

[25]
Theorem â€œRelation unionâ€:
    a â¦— R âˆª S â¦˜ b  â‰¡  a â¦— R â¦˜ b âˆ¨ a â¦— S â¦˜ b
Proof:
    a â¦— R âˆª S â¦˜ b
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
    âŸ¨ a , b âŸ© âˆˆ R âˆª S
  â‰¡âŸ¨ â€œSet unionâ€âŸ©
    âŸ¨ a , b âŸ© âˆˆ R âˆ¨ âŸ¨ a , b âŸ© âˆˆ S
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
    a â¦— R â¦˜ b âˆ¨ a â¦— S â¦˜ b

Theorem â€œRelation unionâ€: a â¦— R âˆª S â¦˜ b â‰¡ a â¦— R â¦˜ b âˆ¨ a â¦— S â¦˜ b   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—, S = Sã€–ã€—
Proof:
    Calculation for expected goal  `a â¦— R âˆª S â¦˜ b â‰¡ a â¦— R â¦˜ b âˆ¨ a â¦— S â¦˜ b`:
            a â¦— R âˆª S â¦˜ b
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ R âˆª S
        â‰¡ âŸ¨ â€œSet unionâ€ âŸ©
                â€” CalcCheck: Found (11.20) â€œSet unionâ€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ R âˆ¨ âŸ¨a, bâŸ© âˆˆ S
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            a â¦— R â¦˜ b âˆ¨ a â¦— S â¦˜ b    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[26]
Theorem â€œRelation intersectionâ€:
    a â¦— R âˆ© S â¦˜ b  â‰¡  a â¦— R â¦˜ b âˆ§ a â¦— S â¦˜ b
Proof:
    a â¦— R âˆ© S â¦˜ b
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
    âŸ¨ a , b âŸ© âˆˆ R âˆ© S
  â‰¡âŸ¨ â€œSet intersectionâ€ âŸ©
    âŸ¨ a , b âŸ© âˆˆ R âˆ§ âŸ¨ a , b âŸ© âˆˆ S
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ© 
    a â¦— R â¦˜ b âˆ§ a â¦— S â¦˜ b

Theorem â€œRelation intersectionâ€: a â¦— R âˆ© S â¦˜ b â‰¡ a â¦— R â¦˜ b âˆ§ a â¦— S â¦˜ b   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—, S = Sã€–ã€—
Proof:
    Calculation for expected goal  `a â¦— R âˆ© S â¦˜ b â‰¡ a â¦— R â¦˜ b âˆ§ a â¦— S â¦˜ b`:
            a â¦— R âˆ© S â¦˜ b
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ R âˆ© S
        â‰¡ âŸ¨ â€œSet intersectionâ€ âŸ©
                â€” CalcCheck: Found (11.21) â€œSet intersectionâ€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ R âˆ§ âŸ¨a, bâŸ© âˆˆ S
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            a â¦— R â¦˜ b âˆ§ a â¦— S â¦˜ b    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[27]
Theorem â€œRelation differenceâ€:
    a â¦— R - S â¦˜ b  â‰¡  a â¦— R â¦˜ b âˆ§ Â¬ (a â¦— S â¦˜ b)
Proof:
    a â¦— R - S â¦˜ b
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
    âŸ¨ a , b âŸ© âˆˆ R - S
  â‰¡âŸ¨ â€œSet differenceâ€âŸ©
    âŸ¨ a , b âŸ© âˆˆ R âˆ§ Â¬ ( âŸ¨ a , b âŸ© âˆˆ S)
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
    a â¦— R â¦˜ b âˆ§ Â¬ (a â¦— S â¦˜ b)

Theorem â€œRelation differenceâ€: a â¦— R - S â¦˜ b â‰¡ a â¦— R â¦˜ b âˆ§ Â¬ (a â¦— S â¦˜ b)   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—, S = Sã€–ã€—
Proof:
    Calculation for expected goal  `a â¦— R - S â¦˜ b â‰¡ a â¦— R â¦˜ b âˆ§ Â¬ (a â¦— S â¦˜ b)`:
            a â¦— R - S â¦˜ b
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ R - S
        â‰¡ âŸ¨ â€œSet differenceâ€ âŸ©
                â€” CalcCheck: Found (11.22) â€œSet differenceâ€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ R âˆ§ Â¬ (âŸ¨a, bâŸ© âˆˆ S)
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            a â¦— R â¦˜ b âˆ§ Â¬ (a â¦— S â¦˜ b)    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[28]
Theorem â€œRelation pseudocomplementâ€:
    a â¦— R â© S â¦˜ b  â‰¡  a â¦— R â¦˜ b  â‡’  a â¦— S â¦˜ b
Proof:
    a â¦— R â© S â¦˜ b
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
    âŸ¨ a , b âŸ© âˆˆ R â© S
  â‰¡âŸ¨ â€œMembership in â©â€âŸ©  
    âŸ¨ a , b âŸ© âˆˆ R â‡’ âŸ¨ a , b âŸ© âˆˆ S
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
    a â¦— R â¦˜ b  â‡’  a â¦— S â¦˜ b

Theorem â€œRelation pseudocomplementâ€: a â¦— R â© S â¦˜ b â‰¡ a â¦— R â¦˜ b â‡’ a â¦— S â¦˜ b   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—, S = Sã€–ã€—
Proof:
    Calculation for expected goal  `a â¦— R â© S â¦˜ b â‰¡ a â¦— R â¦˜ b â‡’ a â¦— S â¦˜ b`:
            a â¦— R â© S â¦˜ b
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ R â© S
        â‰¡ âŸ¨ â€œMembership in â©â€ âŸ©
                â€” CalcCheck: Found (11.112) â€œMembership in â©â€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ R â‡’ âŸ¨a, bâŸ© âˆˆ S
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            a â¦— R â¦˜ b â‡’ a â¦— S â¦˜ b    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[29]
Theorem â€œRelation complementâ€:
    a â¦— ~ R â¦˜ b  â‰¡  Â¬ (a â¦— R â¦˜ b)
Proof:
    a â¦— ~ R â¦˜ b
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
    âŸ¨ a , b âŸ© âˆˆ ~ R
  â‰¡âŸ¨ â€œSet complementâ€âŸ©
    Â¬ (âŸ¨ a , b âŸ© âˆˆ R)
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
    Â¬ (a â¦— R â¦˜ b)

Theorem â€œRelation complementâ€: a â¦— ~ R â¦˜ b â‰¡ Â¬ (a â¦— R â¦˜ b)   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—
Proof:
    Calculation for expected goal  `a â¦— ~ R â¦˜ b â‰¡ Â¬ (a â¦— R â¦˜ b)`:
            a â¦— ~ R â¦˜ b
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ ~ R
        â‰¡ âŸ¨ â€œSet complementâ€ âŸ©
                â€” CalcCheck: Found (11.18) â€œSet complementâ€
                â€” CalcCheck: â”€ OK
            Â¬ (âŸ¨a, bâŸ© âˆˆ R)
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            Â¬ (a â¦— R â¦˜ b)    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[30]
Empty, Universal, and Singleton Relations
[31]
Theorem â€œEmpty relationâ€:  a â¦— {} â¦˜ b  â‰¡ false
Proof:
    a â¦— {} â¦˜ b
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
    âŸ¨ a , b âŸ© âˆˆ {}
  â‰¡âŸ¨ â€œEmpty setâ€âŸ©
    false 

Theorem â€œEmpty relationâ€: a â¦— {} â¦˜ b â‰¡ false
Proof:
    Calculation for expected goal  `a â¦— {} â¦˜ b â‰¡ false`:
            a â¦— {} â¦˜ b
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ {}
        â‰¡ âŸ¨ â€œEmpty setâ€ âŸ©
                â€” CalcCheck: Found â€œEmpty setâ€
                â€” CalcCheck: â”€ OK
            false    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[32]
Theorem â€œUniversal relationâ€ â€œRelationship via `ğ”`â€: a â¦— ğ” â¦˜ b
Proof:
    a â¦— ğ” â¦˜ b
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
    âŸ¨ a , b âŸ© âˆˆ ğ” â€” This is â€œUniversal setâ€ 

Theorem â€œUniversal relationâ€ â€œRelationship via `ğ”`â€: a â¦— ğ” â¦˜ b
Proof:
    Calculation for expected goal  `a â¦— ğ” â¦˜ b`:
            a â¦— ğ” â¦˜ b
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ ğ”     â€” This is â€œUniversal setâ€    
    â€” CalcCheck: Found â€œUniversal setâ€, â€œUniversal setâ€   
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[33]
Universal relations are Cartesion products of universal sets:

[34]
Theorem â€œRelationship via Ã—â€: a â¦— Y Ã— Z â¦˜ b  â‰¡  a âˆˆ Y âˆ§ b âˆˆ Z
Proof:
    a â¦— Y Ã— Z â¦˜ b
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
    âŸ¨ a , b âŸ© âˆˆ Y Ã— Z
  â‰¡âŸ¨ â€œMembership in Ã—â€âŸ©
    a âˆˆ Y âˆ§ b âˆˆ Z   

Theorem â€œRelationship via Ã—â€: a â¦— Y Ã— Z â¦˜ b â‰¡ a âˆˆ Y âˆ§ b âˆˆ Z   
    â€” CalcCheck: Metavariables: Y = Yã€–ã€—, Z = Zã€–ã€—
Proof:
    Calculation for expected goal  `a â¦— Y Ã— Z â¦˜ b â‰¡ a âˆˆ Y âˆ§ b âˆˆ Z`:
            a â¦— Y Ã— Z â¦˜ b
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ Y Ã— Z
        â‰¡ âŸ¨ â€œMembership in Ã—â€ âŸ©
                â€” CalcCheck: Found (14.4) â€œMembership in Ã—â€, â€œMembership in Ã—â€
                â€” CalcCheck: â”€ OK
            a âˆˆ Y âˆ§ b âˆˆ Z    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[35]
Theorem â€œRelationship via `ğ” Ã— ğ”`â€: a â¦— ğ” Ã— ğ” â¦˜ b
Proof:
    a â¦— ğ” Ã— ğ” â¦˜ b
  â‰¡âŸ¨ â€œRelationship via Ã—â€âŸ©
    a âˆˆ ğ” âˆ§ b âˆˆ ğ”
  â‰¡âŸ¨ â€œUniversal setâ€âŸ©
    true âˆ§ true
  â‰¡âŸ¨ â€œIdempotency of âˆ§â€âŸ©
    true  

Theorem â€œRelationship via `ğ” Ã— ğ”`â€: a â¦— ğ” Ã— ğ” â¦˜ b
Proof:
    Calculation for expected goal  `a â¦— ğ” Ã— ğ” â¦˜ b`:
            a â¦— ğ” Ã— ğ” â¦˜ b
        â‰¡ âŸ¨ â€œRelationship via Ã—â€ âŸ©
                â€” CalcCheck: Found â€œRelationship via Ã—â€
                â€” CalcCheck: â”€ OK
            a âˆˆ ğ” âˆ§ b âˆˆ ğ”
        â‰¡ âŸ¨ â€œUniversal setâ€ âŸ©
                â€” CalcCheck: Found â€œUniversal setâ€, â€œUniversal setâ€
                â€” CalcCheck: â”€ OK
            true âˆ§ true
        â‰¡ âŸ¨ â€œIdempotency of âˆ§â€ âŸ©
                â€” CalcCheck: Found (3.38) â€œIdempotency of âˆ§â€
                â€” CalcCheck: â”€ OK
            true    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[36]
Theorem â€œCartesian product of universal setsâ€: ğ” Ã— ğ” = ğ”
Proof:
    Using â€œSet extensionalityâ€:
        âˆ€ e â€¢ e âˆˆ ğ” Ã— ğ” â‰¡ e âˆˆ ğ”
      â‰¡âŸ¨â€œMembership in Ã—â€ âŸ©
        âˆ€ e â€¢ fst e âˆˆ ğ” âˆ§ snd e âˆˆ ğ” â‰¡ e âˆˆ ğ”
      â‰¡âŸ¨ â€œUniversal setâ€âŸ©
        âˆ€ e â€¢ true âˆ§ true â‰¡ true
      â‰¡âŸ¨ â€œIdempotency of âˆ§â€âŸ©
        âˆ€ e â€¢ true â‰¡ true
      â‰¡âŸ¨ â€œReflexivity of â‰¡â€âŸ©
        âˆ€ e â€¢ true
      â‰¡âŸ¨ â€œTrue âˆ€ bodyâ€âŸ©
        true  

Theorem â€œCartesian product of universal setsâ€: ğ” Ã— ğ” = ğ”
Proof:
    Using â€œSet extensionalityâ€:       
        â€” CalcCheck: Found (11.4) â€œSet extensionalityâ€
        Subproof establishing `(âˆ€ e â€¢ e âˆˆ ğ” Ã— ğ” â‰¡ e âˆˆ ğ” )`:
                    (âˆ€ e â€¢ e âˆˆ ğ” Ã— ğ” â‰¡ e âˆˆ ğ” )
                â‰¡ âŸ¨ â€œMembership in Ã—â€ âŸ©
                        â€” CalcCheck: Found (14.4) â€œMembership in Ã—â€, â€œMembership in Ã—â€
                        â€” CalcCheck: â”€ OK
                    (âˆ€ e â€¢ fst e âˆˆ ğ” âˆ§ snd e âˆˆ ğ” â‰¡ e âˆˆ ğ” )
                â‰¡ âŸ¨ â€œUniversal setâ€ âŸ©
                        â€” CalcCheck: Found â€œUniversal setâ€, â€œUniversal setâ€
                        â€” CalcCheck: â”€ OK
                    (âˆ€ e â€¢ true âˆ§ true â‰¡ true )
                â‰¡ âŸ¨ â€œIdempotency of âˆ§â€ âŸ©
                        â€” CalcCheck: Found (3.38) â€œIdempotency of âˆ§â€
                        â€” CalcCheck: â”€ OK
                    (âˆ€ e â€¢ true â‰¡ true )
                â‰¡ âŸ¨ â€œReflexivity of â‰¡â€ âŸ©
                        â€” CalcCheck: Found (3.5) â€œReflexivity of â‰¡â€
                        â€” CalcCheck: â”€ OK
                    (âˆ€ e â€¢ true )
                â‰¡ âŸ¨ â€œTrue âˆ€ bodyâ€ âŸ©
                        â€” CalcCheck: Found (9.8) â€œTrue âˆ€ bodyâ€
                        â€” CalcCheck: â”€ OK
                    true            
            â€” CalcCheck: All steps OK
[37]
Just like a set containing exactly one element is called a singleton set, a relation containing exactly one pair is called a singleton relation:

[38]
Lemma â€œSingleton relationâ€:
    aâ‚ â¦— { âŸ¨ aâ‚‚ , bâ‚‚ âŸ© } â¦˜ bâ‚  â‰¡  aâ‚ = aâ‚‚ âˆ§ bâ‚ = bâ‚‚
Proof:
    aâ‚ â¦— { âŸ¨ aâ‚‚ , bâ‚‚ âŸ© } â¦˜ bâ‚
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
    âŸ¨ aâ‚ , bâ‚ âŸ© âˆˆ { âŸ¨ aâ‚‚ , bâ‚‚ âŸ© }
  â‰¡âŸ¨ â€œSingleton set membershipâ€ âŸ©
    âŸ¨ aâ‚ , bâ‚ âŸ© = âŸ¨ aâ‚‚ , bâ‚‚ âŸ©
  â‰¡âŸ¨ â€œPair equalityâ€âŸ©
    aâ‚ = aâ‚‚ âˆ§ bâ‚ = bâ‚‚ 

Lemma â€œSingleton relationâ€: aâ‚ â¦— { âŸ¨aâ‚‚, bâ‚‚âŸ© } â¦˜ bâ‚ â‰¡ aâ‚ = aâ‚‚ âˆ§ bâ‚ = bâ‚‚
Proof:
    Calculation for expected goal  `aâ‚ â¦— { âŸ¨aâ‚‚, bâ‚‚âŸ© } â¦˜ bâ‚ â‰¡ aâ‚ = aâ‚‚ âˆ§ bâ‚ = bâ‚‚`:
            aâ‚ â¦— { âŸ¨aâ‚‚, bâ‚‚âŸ© } â¦˜ bâ‚
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            âŸ¨aâ‚, bâ‚âŸ© âˆˆ { âŸ¨aâ‚‚, bâ‚‚âŸ© }
        â‰¡ âŸ¨ â€œSingleton set membershipâ€ âŸ©
                â€” CalcCheck: Found (11.101) â€œSingleton set membershipâ€
                â€” CalcCheck: â”€ OK
            âŸ¨aâ‚, bâ‚âŸ© = âŸ¨aâ‚‚, bâ‚‚âŸ©
        â‰¡ âŸ¨ â€œPair equalityâ€ âŸ©
                â€” CalcCheck: Found â€œPair equalityâ€, â€œPair equalityâ€, (14.2) â€œPair equalityâ€
                â€” CalcCheck: â”€ OK
            aâ‚ = aâ‚‚ âˆ§ bâ‚ = bâ‚‚    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[39]
Lemma â€œSingleton relation inclusionâ€:
    { âŸ¨ a , b âŸ© } âŠ† R  â‰¡  a â¦— R â¦˜ b
Proof:
    { âŸ¨ a , b âŸ© } âŠ† R
  â‰¡âŸ¨ â€œSingleton set inclusionâ€âŸ©
    âŸ¨ a , b âŸ© âˆˆ R
  â‰¡âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€âŸ©
    a â¦— R â¦˜ b   
     

Lemma â€œSingleton relation inclusionâ€: { âŸ¨a, bâŸ© } âŠ† R â‰¡ a â¦— R â¦˜ b   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—
Proof:
    Calculation for expected goal  `{ âŸ¨a, bâŸ© } âŠ† R â‰¡ a â¦— R â¦˜ b`:
            { âŸ¨a, bâŸ© } âŠ† R
        â‰¡ âŸ¨ â€œSingleton set inclusionâ€ âŸ©
                â€” CalcCheck: Found (11.102) â€œSingleton set inclusionâ€
                â€” CalcCheck: â”€ OK
            âŸ¨a, bâŸ© âˆˆ R
        â‰¡ âŸ¨ â€œDefinition of `_â¦—_â¦˜_`â€ âŸ©
                â€” CalcCheck: Found â€œInfix relationshipâ€
                â€” CalcCheck: â”€ OK
            a â¦— R â¦˜ b    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[40]
Relation Converse
[41]
Declaration: _Ë˜ : (A â†” B) â†’ (B â†” A)

Declaration: _Ë˜ : A â†” B â†’ B â†” A   
    â€” CalcCheck: Operator _Ë˜: Non-associating; precedence 140
[42]
Axiom â€œRelation converseâ€ â€œRelationship via Ë˜â€:
    y â¦— R Ë˜ â¦˜ x  â‰¡  x â¦— R â¦˜ y

Axiom â€œRelation converseâ€ â€œRelationship via Ë˜â€: y â¦— R Ë˜ â¦˜ x â‰¡ x â¦— R â¦˜ y   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—
[43]
Relation Composition
[44]
Declaration: _â¨¾_ : (A â†” B) â†’ (B â†” C) â†’ (A â†” C)

Declaration: _â¨¾_ : A â†” B â†’ (B â†” C â†’ A â†” C)   
    â€” CalcCheck: Operator _â¨¾_: Associating to the right; precedence 105
[45]
Axiom â€œRelation compositionâ€:
    a â¦— R â¨¾ S â¦˜ c  â‰¡  âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ b â¦— S â¦˜ c

Axiom â€œRelation compositionâ€: a â¦— R â¨¾ S â¦˜ c â‰¡ (âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ b â¦— S â¦˜ c )   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—, S = Sã€–ã€—   
    â€” CalcCheck: Proviso: Â¬occurs(`b`, `R, S`)
[46]
Identity Relations
[47]
Declaration: id_ : set A â†’ (A â†” A)

Declaration: id_ : set A â†’ A â†” A   
    â€” CalcCheck: Operator id_: Non-associating; precedence 130
[48]
Axiom â€œRelationship via `id`â€:  x â¦— id S â¦˜ y  â‰¡  x = y âˆˆ S

Axiom â€œRelationship via `id`â€: x â¦— id S â¦˜ y â‰¡ x = y âˆˆ S   
    â€” CalcCheck: Metavariables: S = Sã€–ã€—
[49]
Corollary â€œRelationship via `id`â€:  x â¦— id S â¦˜ y  â‰¡  y = x âˆˆ S
Proof:
    x â¦— id S â¦˜ y
  â‰¡âŸ¨ â€œRelationship via `id`â€âŸ©
    x = y âˆˆ S
  â‰¡âŸ¨ â€œSymmetry of =â€ âŸ©
    x = y âˆ§ y âˆˆ S
  â‰¡âŸ¨ Substitution âŸ©
    x = y âˆ§ (z âˆˆ S)[z â‰” y]
  â‰¡âŸ¨ â€œReplacementâ€âŸ©
    x = y âˆ§ (z âˆˆ S)[z â‰” x] 
  â‰¡âŸ¨ Substitution âŸ©
    x = y âˆ§ x âˆˆ S 
  

Corollary â€œRelationship via `id`â€: x â¦— id S â¦˜ y â‰¡ y = x âˆˆ S   
    â€” CalcCheck: Metavariables: S = Sã€–ã€—
Proof:
    Calculation for expected goal  `x â¦— id S â¦˜ y â‰¡ y = x âˆˆ S`:
            x â¦— id S â¦˜ y
        â‰¡ âŸ¨ â€œRelationship via `id`â€ âŸ©
                â€” CalcCheck: Found â€œRelationship via `id`â€
                â€” CalcCheck: â”€ OK
            x = y âˆˆ S
        â‰¡ âŸ¨ â€œSymmetry of =â€ âŸ©
                â€” CalcCheck: Found (1.3) â€œSymmetry of =â€
                â€” CalcCheck: OK (no change)
                â€” CalcCheck: â”€ OK
            x = y âˆ§ y âˆˆ S
        â‰¡ âŸ¨ Substitution âŸ©
                â€” CalcCheck: â”€ OK
            x = y âˆ§ (z âˆˆ S)[z â‰” y]
        â‰¡ âŸ¨ â€œReplacementâ€ âŸ©
                â€” CalcCheck: Found (3.84b) â€œReplacementâ€, (3.84a) â€œReplacementâ€, (3.84c) â€œReplacementâ€, (3.51) â€œReplacementâ€
                â€” CalcCheck: â”€ OK
            x = y âˆ§ (z âˆˆ S)[z â‰” x]
        â‰¡ âŸ¨ Substitution âŸ©
                â€” CalcCheck: â”€ OK
            x = y âˆ§ x âˆˆ S    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[50]
Declaration: ğ•€ : A â†” A

Declaration: ğ•€ : A â†” A
[51]
Axiom â€œDefinition of ğ•€ via `id`â€:
    ğ•€ = id ğ”

Axiom â€œDefinition of ğ•€ via `id`â€: ğ•€ = id ğ”
[52]
Theorem â€œRelationship via ğ•€â€ â€œIdentity relationâ€:
    x â¦— ğ•€ â¦˜ y  â‰¡  x = y
Proof:
    x â¦— ğ•€ â¦˜ y
  =âŸ¨ â€œDefinition of ğ•€ via `id`â€âŸ© 
    x â¦— id ğ” â¦˜ y
  =âŸ¨ â€œRelationship via `id`â€âŸ©
    x = y âˆˆ ğ”
  =âŸ¨ â€œUniversal setâ€âŸ©
    x = y âˆ§ true
  â‰¡âŸ¨â€œIdentity of âˆ§â€âŸ©
    x = y

Theorem â€œRelationship via ğ•€â€ â€œIdentity relationâ€: x â¦— ğ•€ â¦˜ y â‰¡ x = y
Proof:
    Calculation for expected goal  `x â¦— ğ•€ â¦˜ y â‰¡ x = y`:
            x â¦— ğ•€ â¦˜ y
        = âŸ¨ â€œDefinition of ğ•€ via `id`â€ âŸ©
                â€” CalcCheck: Found â€œDefinition of ğ•€ via `id`â€
                â€” CalcCheck: â”€ OK
            x â¦— id ğ” â¦˜ y
        = âŸ¨ â€œRelationship via `id`â€ âŸ©
                â€” CalcCheck: Found â€œRelationship via `id`â€, â€œRelationship via `id`â€
                â€” CalcCheck: â”€ OK
            x = y âˆˆ ğ”
        = âŸ¨ â€œUniversal setâ€ âŸ©
                â€” CalcCheck: Found â€œUniversal setâ€, â€œUniversal setâ€
                â€” CalcCheck: â”€ OK
            x = y âˆ§ true
        â‰¡ âŸ¨ â€œIdentity of âˆ§â€ âŸ©
                â€” CalcCheck: Found (3.39) â€œIdentity of âˆ§â€
                â€” CalcCheck: â”€ OK
            x = y    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[53]
Domain and Range
[54]
Declaration:  Dom : (A â†” B) â†’ set A
Declaration:  Ran : (A â†” B) â†’ set B

Declaration: Dom : A â†” B â†’ set A
Declaration: Ran : A â†” B â†’ set B
[55]
Axiom â€œMembership in `Dom`â€:
  x âˆˆ Dom R  â‰¡  âˆƒ y â€¢ x â¦— R â¦˜ y

Axiom â€œMembership in `Dom`â€: x âˆˆ Dom R â‰¡ (âˆƒ y â€¢ x â¦— R â¦˜ y )   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—   
    â€” CalcCheck: Proviso: Â¬occurs(`y`, `R`)
[56]
Axiom â€œMembership in `Ran`â€:
  y âˆˆ Ran R  â‰¡  âˆƒ x â€¢ x â¦— R â¦˜ y

Axiom â€œMembership in `Ran`â€: y âˆˆ Ran R â‰¡ (âˆƒ x â€¢ x â¦— R â¦˜ y )   
    â€” CalcCheck: Metavariables: R = Rã€–ã€—   
    â€” CalcCheck: Proviso: Â¬occurs(`x`, `R`)
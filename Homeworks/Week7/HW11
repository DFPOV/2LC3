â€” Homework 11: Some Properties of Relation Operations in Set Theory
[1]
In addition to propositional and predicate logic, preloaded here are all set theory from Ref6.1, and the Cartesian product and relations material from H10.1â€“H10.3.

For making the proofs more explicit, only one hint item per hint is allowed here. (Structured hint items built using with still count as single hint items.)

[2]
Relation-specific Operations
[3]
Domain and Range
[4]
Basic properties of Dom are mostly simple set theoretic exercises. The following two have been discussed in the lecture.

Dom distributes over union:

[5]
Theorem â€œDomain of unionâ€: Dom (R âˆª S) = Dom R âˆª Dom S
Proof:
  Using â€œSet extensionalityâ€:
    For any `x`:
        x âˆˆ Dom (R âˆª S)
      â‰¡âŸ¨ â€œMembership in `Dom`â€ âŸ©
        âˆƒ y â€¢ x â¦— R âˆª S â¦˜ y  
      â‰¡âŸ¨ â€œRelation unionâ€âŸ©
        âˆƒ y â€¢ (x â¦— R â¦˜ y âˆ¨ x â¦— S â¦˜ y)
      â‰¡âŸ¨ â€œDistributivity of âˆƒ over âˆ¨â€ âŸ©
        (âˆƒ y â€¢ x â¦— R â¦˜ y) âˆ¨ (âˆƒ y â€¢ x â¦— S â¦˜ y) 
      â‰¡âŸ¨ â€œMembership in `Dom`â€âŸ© 
        x âˆˆ Dom R âˆ¨ x âˆˆ Dom S
      â‰¡âŸ¨ â€œSet unionâ€ âŸ©
        x âˆˆ Dom R âˆª Dom S

Theorem â€œDomain of unionâ€: Dom (R âˆª S) = Dom R âˆª Dom S
Proof:
    Using â€œSet extensionalityâ€:       
        â€” CalcCheck: Found (11.4) â€œSet extensionalityâ€
        Subproof establishing `(âˆ€ x â€¢ x âˆˆ Dom (R âˆª S) â‰¡ x âˆˆ Dom R âˆª Dom S )`:
            For any ` x`:
                Calculation establishing  `x âˆˆ Dom (R âˆª S) â‰¡ x âˆˆ Dom R âˆª Dom S`:
                        x âˆˆ Dom (R âˆª S)
                    â‰¡ âŸ¨ â€œMembership in `Dom`â€ âŸ©
                            â€” CalcCheck: Found â€œMembership in `Dom`â€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ y â€¢ x â¦— R âˆª S â¦˜ y )
                    â‰¡ âŸ¨ â€œRelation unionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation unionâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ y â€¢ x â¦— R â¦˜ y âˆ¨ x â¦— S â¦˜ y )
                    â‰¡ âŸ¨ â€œDistributivity of âˆƒ over âˆ¨â€ âŸ©
                            â€” CalcCheck: Found (8.15) â€œDistributivity of âˆƒ over âˆ¨â€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ y â€¢ x â¦— R â¦˜ y ) âˆ¨ (âˆƒ y â€¢ x â¦— S â¦˜ y )
                    â‰¡ âŸ¨ â€œMembership in `Dom`â€ âŸ©
                            â€” CalcCheck: Found â€œMembership in `Dom`â€
                            â€” CalcCheck: â”€ OK
                        x âˆˆ Dom R âˆ¨ x âˆˆ Dom S
                    â‰¡ âŸ¨ â€œSet unionâ€ âŸ©
                            â€” CalcCheck: Found (11.20) â€œSet unionâ€
                            â€” CalcCheck: â”€ OK
                        x âˆˆ Dom R âˆª Dom S                
                â€” CalcCheck: All steps OK
[6]
But Dom only sub-distributes over intersection:

[7]
Theorem â€œDomain of intersectionâ€: Dom (R âˆ© S) âŠ† Dom R âˆ© Dom S
Proof:
  Using â€œSet inclusionâ€:
    For any `x`:
        x âˆˆ Dom (R âˆ© S)
      â‰¡âŸ¨ â€œMembership in `Dom`â€ âŸ©
        âˆƒ y â€¢ x â¦— R âˆ© S â¦˜ y
      â‰¡âŸ¨ â€œRelation intersectionâ€âŸ©
        âˆƒ y â€¢ x â¦— R â¦˜ y âˆ§ x â¦— S â¦˜ y
      â‰¡âŸ¨ â€œIdempotency of âˆ§â€âŸ©
        (âˆƒ y â€¢ x â¦— R â¦˜ y âˆ§ x â¦— S â¦˜ y) âˆ§ (âˆƒ y â€¢ x â¦— R â¦˜ y âˆ§ x â¦— S â¦˜ y)
      â‡’âŸ¨ â€œMonotonicity of âˆ§â€ with
          â€œBody monotonicity of âˆƒâ€ with 
          â€œWeakeningâ€ âŸ©
        (âˆƒ y â€¢ x â¦— R â¦˜ y) âˆ§ (âˆƒ y â€¢ x â¦— S â¦˜ y)
      â‰¡âŸ¨ â€œMembership in `Dom`â€âŸ© 
        (x âˆˆ Dom R) âˆ§ (x âˆˆ Dom S)
      â‰¡âŸ¨ â€œSet intersectionâ€âŸ© 
        x âˆˆ Dom R âˆ© Dom S

Theorem â€œDomain of intersectionâ€: Dom (R âˆ© S) âŠ† Dom R âˆ© Dom S
Proof:
    Using â€œSet inclusionâ€:       
        â€” CalcCheck: Found (11.13b) â€œSet inclusionâ€, (11.13) â€œSet inclusionâ€
        Subproof establishing `(âˆ€ x â€¢ x âˆˆ Dom (R âˆ© S) â‡’ x âˆˆ Dom R âˆ© Dom S )`:
            For any ` x`:
                Calculation establishing  `x âˆˆ Dom (R âˆ© S) â‡’ x âˆˆ Dom R âˆ© Dom S`:
                        x âˆˆ Dom (R âˆ© S)
                    â‰¡ âŸ¨ â€œMembership in `Dom`â€ âŸ©
                            â€” CalcCheck: Found â€œMembership in `Dom`â€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ y â€¢ x â¦— R âˆ© S â¦˜ y )
                    â‰¡ âŸ¨ â€œRelation intersectionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation intersectionâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ y â€¢ x â¦— R â¦˜ y âˆ§ x â¦— S â¦˜ y )
                    â‰¡ âŸ¨ â€œIdempotency of âˆ§â€ âŸ©
                            â€” CalcCheck: Found (3.38) â€œIdempotency of âˆ§â€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ y â€¢ x â¦— R â¦˜ y âˆ§ x â¦— S â¦˜ y ) âˆ§ (âˆƒ y â€¢ x â¦— R â¦˜ y âˆ§ x â¦— S â¦˜ y )
                    â‡’ âŸ¨ â€œMonotonicity of âˆ§â€ with â€œBody monotonicity of âˆƒâ€ with â€œWeakeningâ€ âŸ©
                            â€” CalcCheck: Found â€œMonotonicity of âˆ§â€, (4.3) â€œLeft-monotonicity of âˆ§â€
                            â€” CalcCheck: Found (9.27) â€œMonotonicity of âˆƒâ€
                            â€” CalcCheck: Found (3.76e) â€œWeakeningâ€, (3.76d) â€œWeakeningâ€, (3.76a) â€œWeakeningâ€, (3.76b) â€œWeakeningâ€, (3.76c) â€œWeakeningâ€, â€œWeakeningâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ y â€¢ x â¦— R â¦˜ y ) âˆ§ (âˆƒ y â€¢ x â¦— S â¦˜ y )
                    â‰¡ âŸ¨ â€œMembership in `Dom`â€ âŸ©
                            â€” CalcCheck: Found â€œMembership in `Dom`â€
                            â€” CalcCheck: â”€ OK
                        x âˆˆ Dom R âˆ§ x âˆˆ Dom S
                    â‰¡ âŸ¨ â€œSet intersectionâ€ âŸ©
                            â€” CalcCheck: Found (11.21) â€œSet intersectionâ€
                            â€” CalcCheck: â”€ OK
                        x âˆˆ Dom R âˆ© Dom S                
                â€” CalcCheck: All steps OK
[8]
Theorem â€œDomain of converseâ€: Dom (R Ë˜) = Ran R
Proof:
  Using â€œSet extensionalityâ€:
    For any `y`:
        y âˆˆ Dom (R Ë˜) â‰¡ y âˆˆ Ran R
      â‰¡âŸ¨â€œMembership in `Dom`â€âŸ©
        (âˆƒ x â€¢ y â¦— R Ë˜ â¦˜ x) â‰¡ y âˆˆ Ran R
      â‰¡âŸ¨â€œMembership in `Ran`â€âŸ©
        (âˆƒ x â€¢ y â¦— R Ë˜ â¦˜ x) â‰¡ (âˆƒ x â€¢ x â¦— R â¦˜ y)
      â‰¡âŸ¨ â€œRelation converseâ€âŸ©
        (âˆƒ x â€¢ x â¦— R â¦˜ y) â‰¡ (âˆƒ x â€¢ x â¦— R â¦˜ y)
      â‰¡âŸ¨ â€œReflexivity of â‰¡â€âŸ©
        true 

Theorem â€œDomain of converseâ€: Dom (R Ë˜) = Ran R
Proof:
    Using â€œSet extensionalityâ€:       
        â€” CalcCheck: Found (11.4) â€œSet extensionalityâ€
        Subproof establishing `(âˆ€ y â€¢ y âˆˆ Dom (R Ë˜) â‰¡ y âˆˆ Ran R )`:
            For any ` y`:
                Calculation establishing  `y âˆˆ Dom (R Ë˜) â‰¡ y âˆˆ Ran R`:
                        y âˆˆ Dom (R Ë˜) â‰¡ y âˆˆ Ran R
                    â‰¡ âŸ¨ â€œMembership in `Dom`â€ âŸ©
                            â€” CalcCheck: Found â€œMembership in `Dom`â€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ x â€¢ y â¦— R Ë˜ â¦˜ x ) â‰¡ y âˆˆ Ran R
                    â‰¡ âŸ¨ â€œMembership in `Ran`â€ âŸ©
                            â€” CalcCheck: Found â€œMembership in `Ran`â€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ x â€¢ y â¦— R Ë˜ â¦˜ x ) â‰¡ (âˆƒ x â€¢ x â¦— R â¦˜ y )
                    â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation converseâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ x â€¢ x â¦— R â¦˜ y ) â‰¡ (âˆƒ x â€¢ x â¦— R â¦˜ y )
                    â‰¡ âŸ¨ â€œReflexivity of â‰¡â€ âŸ©
                            â€” CalcCheck: Found (3.5) â€œReflexivity of â‰¡â€
                            â€” CalcCheck: â”€ OK
                        true                
                â€” CalcCheck: All steps OK
[9]
Relation Converse
[10]
Different ways to prove â€œSelf-inverse of Ë˜â€ were mentioned in the lecture.

[11]
Theorem â€œSelf-inverse of Ë˜â€: R Ë˜ Ë˜      =  R
Proof:
  Using â€œRelation extensionalityâ€:
    Subproof for `âˆ€ a â€¢ âˆ€ b â€¢ a â¦— R  Ë˜ Ë˜ â¦˜ b â‰¡ a â¦— R â¦˜ b`:
      For any `a`, `b`:
          a â¦— R Ë˜ Ë˜ â¦˜ b
        â‰¡âŸ¨ â€œRelation converseâ€ âŸ©
          b â¦— R Ë˜ â¦˜ a
        â‰¡âŸ¨ â€œRelation converseâ€ âŸ©
          a â¦— R â¦˜ b

Theorem â€œSelf-inverse of Ë˜â€: (R Ë˜) Ë˜ = R
Proof:
    Using â€œRelation extensionalityâ€:       
        â€” CalcCheck: Found â€œRelation extensionalityâ€
        Subproof for `(âˆ€ a â€¢ (âˆ€ b â€¢ a â¦— (R Ë˜) Ë˜ â¦˜ b â‰¡ a â¦— R â¦˜ b ) )`:
            For any ` a`:
                For any ` b`:
                    Calculation for expected goal  `a â¦— (R Ë˜) Ë˜ â¦˜ b â‰¡ a â¦— R â¦˜ b`:
                            a â¦— (R Ë˜) Ë˜ â¦˜ b
                        â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                                â€” CalcCheck: Found â€œRelation converseâ€
                                â€” CalcCheck: â”€ OK
                            b â¦— R Ë˜ â¦˜ a
                        â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                                â€” CalcCheck: Found â€œRelation converseâ€
                                â€” CalcCheck: â”€ OK
                            a â¦— R â¦˜ b                    
                    â€” CalcCheck: All steps OK                   
                    â€” CalcCheck: Calculation matches goal â”€ OK
[12]
Where the subproof goal can be inferred precisely from the the contained proof, that subproof goal can be omitted; and if a Using is supplied only one subproof with inferrable goal, then the whole Subproof line can be omitted:

[13]
Theorem â€œMonotonicity of Ë˜â€: R âŠ† S      â‡’  R Ë˜ âŠ† S Ë˜
Proof:
  Assuming `R âŠ† S`:
    Using â€œRelation inclusionâ€:
      For any `b, a`:
          (b â¦— R Ë˜ â¦˜ a â‡’ b â¦— S Ë˜ â¦˜ a)
        â‰¡âŸ¨ â€œRelation converseâ€âŸ©
          (a â¦— R â¦˜ b â‡’ a â¦— S â¦˜ b)
        â‰¡âŸ¨ Assumption `R âŠ† S` with â€œRelation inclusionâ€âŸ©
          true

Theorem â€œMonotonicity of Ë˜â€: R âŠ† S â‡’ R Ë˜ âŠ† S Ë˜
Proof:
    Assuming `R âŠ† S`:
    â€” CalcCheck: Assumption matches goal
        Using â€œRelation inclusionâ€:           
            â€” CalcCheck: Found â€œRelation inclusionâ€
            Subproof establishing `(âˆ€ b, a â€¢ b â¦— R Ë˜ â¦˜ a â‡’ b â¦— S Ë˜ â¦˜ a )`:
                For any ` b, a`:
                    Calculation establishing  `b â¦— R Ë˜ â¦˜ a â‡’ b â¦— S Ë˜ â¦˜ a`:
                            b â¦— R Ë˜ â¦˜ a â‡’ b â¦— S Ë˜ â¦˜ a
                        â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                                â€” CalcCheck: Found â€œRelation converseâ€
                                â€” CalcCheck: â”€ OK
                            a â¦— R â¦˜ b â‡’ a â¦— S â¦˜ b
                        â‰¡ âŸ¨ Assumption `R âŠ† S` with â€œRelation inclusionâ€ âŸ©
                                â€” CalcCheck: Found assumption `R âŠ† S`
                                â€” CalcCheck: Found â€œRelation inclusionâ€
                                â€” CalcCheck: â”€ OK
                            true                    
                    â€” CalcCheck: All steps OK
[14]
Theorem â€œConverse of âˆ©â€:     (R âˆ© S) Ë˜  =  R Ë˜ âˆ© S Ë˜
Proof:
  Using â€œRelation extensionalityâ€:
    For any `b, a`:
        (a â¦— (R âˆ© S) Ë˜ â¦˜ b) = (a â¦— (R Ë˜ âˆ© S Ë˜) â¦˜ b)
      â‰¡âŸ¨ â€œRelation converseâ€âŸ©
        (b â¦— (R âˆ© S) â¦˜ a) = (a â¦— (R Ë˜ âˆ© S Ë˜) â¦˜ b)
      â‰¡âŸ¨â€œRelation intersectionâ€âŸ©
        (b â¦— (R âˆ© S) â¦˜ a) = (a â¦— R Ë˜ â¦˜ b âˆ§ a â¦— S Ë˜ â¦˜ b )
      â‰¡âŸ¨ â€œRelation converseâ€âŸ©
        (b â¦— (R âˆ© S) â¦˜ a) = (b â¦— R â¦˜ a âˆ§ b â¦— S â¦˜ a )
      â‰¡âŸ¨ â€œRelation intersectionâ€âŸ©
        (b â¦— (R âˆ© S) â¦˜ a) = (b â¦— (R âˆ© S) â¦˜ a)
      â‰¡âŸ¨ â€œReflexivity of =â€âŸ©
        true  

Theorem â€œConverse of âˆ©â€: (R âˆ© S) Ë˜ = R Ë˜ âˆ© S Ë˜
Proof:
    Using â€œRelation extensionalityâ€:       
        â€” CalcCheck: Found â€œRelation extensionalityâ€
        Subproof establishing `(âˆ€ b, a â€¢ (a â¦— (R âˆ© S) Ë˜ â¦˜ b) = (a â¦— R Ë˜ âˆ© S Ë˜ â¦˜ b) )`:
            For any ` b, a`:
                Calculation establishing  `(a â¦— (R âˆ© S) Ë˜ â¦˜ b) = (a â¦— R Ë˜ âˆ© S Ë˜ â¦˜ b)`:
                        (a â¦— (R âˆ© S) Ë˜ â¦˜ b) = (a â¦— R Ë˜ âˆ© S Ë˜ â¦˜ b)
                    â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation converseâ€
                            â€” CalcCheck: â”€ OK
                        (b â¦— R âˆ© S â¦˜ a) = (a â¦— R Ë˜ âˆ© S Ë˜ â¦˜ b)
                    â‰¡ âŸ¨ â€œRelation intersectionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation intersectionâ€
                            â€” CalcCheck: â”€ OK
                        (b â¦— R âˆ© S â¦˜ a) = (a â¦— R Ë˜ â¦˜ b âˆ§ a â¦— S Ë˜ â¦˜ b)
                    â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation converseâ€
                            â€” CalcCheck: â”€ OK
                        (b â¦— R âˆ© S â¦˜ a) = (b â¦— R â¦˜ a âˆ§ b â¦— S â¦˜ a)
                    â‰¡ âŸ¨ â€œRelation intersectionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation intersectionâ€
                            â€” CalcCheck: â”€ OK
                        (b â¦— R âˆ© S â¦˜ a) = (b â¦— R âˆ© S â¦˜ a)
                    â‰¡ âŸ¨ â€œReflexivity of =â€ âŸ©
                            â€” CalcCheck: Found (1.2) â€œReflexivity of =â€
                            â€” CalcCheck: â”€ OK
                        true                
                â€” CalcCheck: All steps OK
[15]
As mentioned in the lecture, â€œIsotonicity of Ë˜â€ can easily be shown directly via an equivalence calculation in the unfold-fold manner, using â€œRelation inclusionâ€ to expand respectively contract âŠ†.

[16]
Theorem â€œIsotonicity of Ë˜â€:  R âŠ† S   â‰¡   R Ë˜ âŠ† S Ë˜
Proof:
    R âŠ† S
  â‰¡âŸ¨ â€œRelation inclusionâ€âŸ©
    (âˆ€ x, y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y ) 
  â‰¡âŸ¨ â€œRelation converseâ€âŸ©
    (âˆ€ x, y â€¢ y â¦— R Ë˜ â¦˜ x â‡’ y â¦— S Ë˜ â¦˜ x ) 
  â‰¡âŸ¨ â€œDummy list permutation for âˆ€â€âŸ© 
    (âˆ€ y, x â€¢ y â¦— R Ë˜ â¦˜ x â‡’ y â¦— S Ë˜ â¦˜ x ) 
  â‰¡âŸ¨ â€œRelation inclusionâ€âŸ©
     R Ë˜ âŠ† S Ë˜

Theorem â€œIsotonicity of Ë˜â€: R âŠ† S â‰¡ R Ë˜ âŠ† S Ë˜
Proof:
    Calculation for expected goal  `R âŠ† S â‰¡ R Ë˜ âŠ† S Ë˜`:
            R âŠ† S
        â‰¡ âŸ¨ â€œRelation inclusionâ€ âŸ©
                â€” CalcCheck: Found â€œRelation inclusionâ€
                â€” CalcCheck: â”€ OK
            (âˆ€ x, y â€¢ x â¦— R â¦˜ y â‡’ x â¦— S â¦˜ y )
        â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                â€” CalcCheck: Found â€œRelation converseâ€
                â€” CalcCheck: â”€ OK
            (âˆ€ x, y â€¢ y â¦— R Ë˜ â¦˜ x â‡’ y â¦— S Ë˜ â¦˜ x )
        â‰¡ âŸ¨ â€œDummy list permutation for âˆ€â€ âŸ©
                â€” CalcCheck: Found (8.19.1) â€œDummy list permutation for âˆ€â€
                â€” CalcCheck: â”€ OK
            (âˆ€ y, x â€¢ y â¦— R Ë˜ â¦˜ x â‡’ y â¦— S Ë˜ â¦˜ x )
        â‰¡ âŸ¨ â€œRelation inclusionâ€ âŸ©
                â€” CalcCheck: Found â€œRelation inclusionâ€
                â€” CalcCheck: â”€ OK
            R Ë˜ âŠ† S Ë˜    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[17]
Theorem â€œConverse of âˆªâ€:     (R âˆª S) Ë˜  =  R Ë˜ âˆª S Ë˜
Proof:
  Using â€œRelation extensionalityâ€:
    For any `y, x`:
        x â¦— (R âˆª S) Ë˜ â¦˜ y â‰¡ x â¦— R Ë˜ âˆª S Ë˜ â¦˜ y
      â‰¡âŸ¨ â€œRelation converseâ€âŸ©
        y â¦— R âˆª S â¦˜ x â‰¡ x â¦— R Ë˜ âˆª S Ë˜ â¦˜ y
      â‰¡âŸ¨ â€œRelation unionâ€âŸ©
        y â¦— R âˆª S â¦˜ x â‰¡ x â¦— R Ë˜ â¦˜ y âˆ¨ x â¦— S Ë˜ â¦˜ y
      â‰¡âŸ¨ â€œRelation converseâ€âŸ©
        y â¦— R âˆª S â¦˜ x â‰¡ y â¦— R â¦˜ x âˆ¨ y â¦— S â¦˜ x
      â‰¡âŸ¨ â€œRelation unionâ€âŸ©
        y â¦— R âˆª S â¦˜ x â‰¡ y â¦— R âˆª S â¦˜ x
      â‰¡âŸ¨ â€œIdentity of â‰¡â€âŸ©
        true 

Theorem â€œConverse of âˆªâ€: (R âˆª S) Ë˜ = R Ë˜ âˆª S Ë˜
Proof:
    Using â€œRelation extensionalityâ€:       
        â€” CalcCheck: Found â€œRelation extensionalityâ€
        Subproof establishing `(âˆ€ y, x â€¢ x â¦— (R âˆª S) Ë˜ â¦˜ y â‰¡ x â¦— R Ë˜ âˆª S Ë˜ â¦˜ y )`:
            For any ` y, x`:
                Calculation establishing  `x â¦— (R âˆª S) Ë˜ â¦˜ y â‰¡ x â¦— R Ë˜ âˆª S Ë˜ â¦˜ y`:
                        x â¦— (R âˆª S) Ë˜ â¦˜ y â‰¡ x â¦— R Ë˜ âˆª S Ë˜ â¦˜ y
                    â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation converseâ€
                            â€” CalcCheck: â”€ OK
                        y â¦— R âˆª S â¦˜ x â‰¡ x â¦— R Ë˜ âˆª S Ë˜ â¦˜ y
                    â‰¡ âŸ¨ â€œRelation unionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation unionâ€
                            â€” CalcCheck: â”€ OK
                        y â¦— R âˆª S â¦˜ x â‰¡ x â¦— R Ë˜ â¦˜ y âˆ¨ x â¦— S Ë˜ â¦˜ y
                    â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation converseâ€
                            â€” CalcCheck: â”€ OK
                        y â¦— R âˆª S â¦˜ x â‰¡ y â¦— R â¦˜ x âˆ¨ y â¦— S â¦˜ x
                    â‰¡ âŸ¨ â€œRelation unionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation unionâ€
                            â€” CalcCheck: â”€ OK
                        y â¦— R âˆª S â¦˜ x â‰¡ y â¦— R âˆª S â¦˜ x
                    â‰¡ âŸ¨ â€œIdentity of â‰¡â€ âŸ©
                            â€” CalcCheck: Found (3.3) â€œIdentity of â‰¡â€
                            â€” CalcCheck: â”€ OK
                        true                
                â€” CalcCheck: All steps OK
[18]
Composition
[19]
For a composition to â€œchange directionâ€, the arguments not only need to change direction, but also need to swap their argument positions:

[20]
Theorem â€œConverse of â¨¾â€:    (R â¨¾ S) Ë˜    =  S Ë˜ â¨¾ R Ë˜
Proof:
  Using â€œRelation extensionalityâ€:
    For any `a, c`:
        c â¦— (R â¨¾ S) Ë˜ â¦˜ a
      â‰¡âŸ¨ â€œRelation converseâ€ âŸ©
        a â¦— R â¨¾ S â¦˜ c
      â‰¡âŸ¨ â€œRelation compositionâ€âŸ©
        âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ b â¦— S â¦˜ c
      â‰¡âŸ¨â€œRelation converseâ€âŸ©
        âˆƒ b â€¢ b â¦— R Ë˜ â¦˜ a âˆ§ c â¦— S Ë˜ â¦˜ b
      â‰¡âŸ¨ â€œSymmetry of â‰¡â€âŸ©
        âˆƒ b â€¢ c â¦— S Ë˜ â¦˜ b âˆ§ b â¦— R Ë˜ â¦˜ a
      â‰¡âŸ¨ â€œRelation compositionâ€âŸ© 
        c â¦— S Ë˜ â¨¾ R Ë˜ â¦˜ a

Theorem â€œConverse of â¨¾â€: (R â¨¾ S) Ë˜ = S Ë˜ â¨¾ R Ë˜
Proof:
    Using â€œRelation extensionalityâ€:       
        â€” CalcCheck: Found â€œRelation extensionalityâ€
        Subproof establishing `(âˆ€ a, c â€¢ c â¦— (R â¨¾ S) Ë˜ â¦˜ a â‰¡ c â¦— S Ë˜ â¨¾ R Ë˜ â¦˜ a )`:
            For any ` a, c`:
                Calculation establishing  `c â¦— (R â¨¾ S) Ë˜ â¦˜ a â‰¡ c â¦— S Ë˜ â¨¾ R Ë˜ â¦˜ a`:
                        c â¦— (R â¨¾ S) Ë˜ â¦˜ a
                    â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation converseâ€
                            â€” CalcCheck: â”€ OK
                        a â¦— R â¨¾ S â¦˜ c
                    â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation compositionâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ b â¦— S â¦˜ c )
                    â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation converseâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ b â¦— R Ë˜ â¦˜ a âˆ§ c â¦— S Ë˜ â¦˜ b )
                    â‰¡ âŸ¨ â€œSymmetry of â‰¡â€ âŸ©
                            â€” CalcCheck: Found (3.2) â€œSymmetry of â‰¡â€
                            â€” CalcCheck: OK (no change)
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ c â¦— S Ë˜ â¦˜ b âˆ§ b â¦— R Ë˜ â¦˜ a )
                    â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation compositionâ€
                            â€” CalcCheck: â”€ OK
                        c â¦— S Ë˜ â¨¾ R Ë˜ â¦˜ a                
                â€” CalcCheck: All steps OK
[21]
For a straight-forward proof of â€œDistributivity of â¨¾ over âˆªâ€, you will need â€œDistributivity of âˆƒ over âˆ¨â€.

[22]
Theorem â€œDistributivity of â¨¾ over âˆªâ€: Q â¨¾ (R âˆª S)  =  Q â¨¾ R  âˆª  Q â¨¾ S
Proof:
  Using â€œRelation extensionalityâ€:
    For any `a, c`:
        a â¦— Q â¨¾ (R âˆª S) â¦˜ c
      â‰¡âŸ¨ â€œRelation compositionâ€âŸ©
        âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— R âˆª S â¦˜ c
      â‰¡âŸ¨ â€œRelation unionâ€âŸ©
        âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ (b â¦— R â¦˜ c âˆ¨ b â¦— S â¦˜ c)
      â‰¡âŸ¨ â€œDistributivity of âˆ§ over âˆ¨â€âŸ© 
        âˆƒ b â€¢ (a â¦— Q â¦˜ b âˆ§ b â¦— R â¦˜ c) âˆ¨ (a â¦— Q â¦˜ b âˆ§ b â¦— S â¦˜ c)
      â‰¡âŸ¨ â€œDistributivity of âˆƒ over âˆ¨â€âŸ© 
        (âˆƒ b â€¢ (a â¦— Q â¦˜ b âˆ§ b â¦— R â¦˜ c)) âˆ¨ (âˆƒ b â€¢ (a â¦— Q â¦˜ b âˆ§ b â¦— S â¦˜ c))
      â‰¡âŸ¨â€œRelation compositionâ€âŸ©
        a â¦— Q â¨¾ R â¦˜ c âˆ¨ a â¦— Q â¨¾ S â¦˜ c
      â‰¡âŸ¨ â€œRelation unionâ€âŸ©
        a â¦— Q â¨¾ R  âˆª  Q â¨¾ S â¦˜ c

Theorem â€œDistributivity of â¨¾ over âˆªâ€: Q â¨¾ (R âˆª S) = Q â¨¾ R âˆª Q â¨¾ S
Proof:
    Using â€œRelation extensionalityâ€:       
        â€” CalcCheck: Found â€œRelation extensionalityâ€
        Subproof establishing `(âˆ€ a, c â€¢ a â¦— Q â¨¾ (R âˆª S) â¦˜ c â‰¡ a â¦— Q â¨¾ R âˆª Q â¨¾ S â¦˜ c )`:
            For any ` a, c`:
                Calculation establishing  `a â¦— Q â¨¾ (R âˆª S) â¦˜ c â‰¡ a â¦— Q â¨¾ R âˆª Q â¨¾ S â¦˜ c`:
                        a â¦— Q â¨¾ (R âˆª S) â¦˜ c
                    â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation compositionâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— R âˆª S â¦˜ c )
                    â‰¡ âŸ¨ â€œRelation unionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation unionâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ (b â¦— R â¦˜ c âˆ¨ b â¦— S â¦˜ c) )
                    â‰¡ âŸ¨ â€œDistributivity of âˆ§ over âˆ¨â€ âŸ©
                            â€” CalcCheck: Found (3.46) â€œDistributivity of âˆ§ over âˆ¨â€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ (a â¦— Q â¦˜ b âˆ§ b â¦— R â¦˜ c) âˆ¨ (a â¦— Q â¦˜ b âˆ§ b â¦— S â¦˜ c) )
                    â‰¡ âŸ¨ â€œDistributivity of âˆƒ over âˆ¨â€ âŸ©
                            â€” CalcCheck: Found (8.15) â€œDistributivity of âˆƒ over âˆ¨â€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— R â¦˜ c ) âˆ¨ (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— S â¦˜ c )
                    â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation compositionâ€
                            â€” CalcCheck: â”€ OK
                        a â¦— Q â¨¾ R â¦˜ c âˆ¨ a â¦— Q â¨¾ S â¦˜ c
                    â‰¡ âŸ¨ â€œRelation unionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation unionâ€
                            â€” CalcCheck: â”€ OK
                        a â¦— Q â¨¾ R âˆª Q â¨¾ S â¦˜ c                
                â€” CalcCheck: All steps OK
[23]
The key to a straight-forward proof of â€œSub-distributivity of â¨¾ over âˆ©â€ is duplicating the whole âˆƒ-quantification with â€œIdempotency of âˆ§â€, and then using different instances of â€œBody weakening for âˆƒâ€ on the two copies:

[24]
Theorem â€œSub-distributivity of â¨¾ over âˆ©â€: Q â¨¾ (R âˆ© S)  âŠ†  Q â¨¾ R  âˆ©  Q â¨¾ S
Proof:
  Using â€œRelation inclusionâ€:
    For any `a, c`:
        a â¦— Q â¨¾ (R âˆ© S) â¦˜ c
      â‰¡âŸ¨ â€œRelation compositionâ€âŸ©
        âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— (R âˆ© S) â¦˜ c 
      â‰¡âŸ¨ â€œRelation intersectionâ€âŸ©
        âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— R â¦˜ c âˆ§ b â¦— S â¦˜ c
      â‰¡âŸ¨ â€œIdempotency of âˆ§â€âŸ©
        (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— R â¦˜ c âˆ§ b â¦— S â¦˜ c) âˆ§ (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— R â¦˜ c âˆ§ b â¦— S â¦˜ c)
      â‡’âŸ¨ â€œMonotonicity of âˆ§â€ with
          â€œBody monotonicity of âˆƒâ€ with 
          â€œWeakeningâ€ âŸ©
        (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— R â¦˜ c) âˆ§ (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— S â¦˜ c)
      â‰¡âŸ¨ â€œRelation compositionâ€ âŸ©
        a â¦— Q â¨¾ R â¦˜ c âˆ§ a â¦— Q â¨¾ S â¦˜ c
      â‰¡âŸ¨ â€œRelation intersectionâ€ âŸ©
        a â¦— Q â¨¾ R  âˆ© Q â¨¾ S â¦˜ c

Theorem â€œSub-distributivity of â¨¾ over âˆ©â€: Q â¨¾ (R âˆ© S) âŠ† Q â¨¾ R âˆ© Q â¨¾ S
Proof:
    Using â€œRelation inclusionâ€:       
        â€” CalcCheck: Found â€œRelation inclusionâ€
        Subproof establishing `(âˆ€ a, c â€¢ a â¦— Q â¨¾ (R âˆ© S) â¦˜ c â‡’ a â¦— Q â¨¾ R âˆ© Q â¨¾ S â¦˜ c )`:
            For any ` a, c`:
                Calculation establishing  `a â¦— Q â¨¾ (R âˆ© S) â¦˜ c â‡’ a â¦— Q â¨¾ R âˆ© Q â¨¾ S â¦˜ c`:
                        a â¦— Q â¨¾ (R âˆ© S) â¦˜ c
                    â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation compositionâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— R âˆ© S â¦˜ c )
                    â‰¡ âŸ¨ â€œRelation intersectionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation intersectionâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ (b â¦— R â¦˜ c âˆ§ b â¦— S â¦˜ c) )
                    â‰¡ âŸ¨ â€œIdempotency of âˆ§â€ âŸ©
                            â€” CalcCheck: Found (3.38) â€œIdempotency of âˆ§â€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ (b â¦— R â¦˜ c âˆ§ b â¦— S â¦˜ c) ) âˆ§ (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ (b â¦— R â¦˜ c âˆ§ b â¦— S â¦˜ c) )
                    â‡’ âŸ¨ â€œMonotonicity of âˆ§â€ with â€œBody monotonicity of âˆƒâ€ with â€œWeakeningâ€ âŸ©
                            â€” CalcCheck: Found â€œMonotonicity of âˆ§â€, (4.3) â€œLeft-monotonicity of âˆ§â€
                            â€” CalcCheck: Found (9.27) â€œMonotonicity of âˆƒâ€
                            â€” CalcCheck: Found (3.76e) â€œWeakeningâ€, (3.76d) â€œWeakeningâ€, (3.76a) â€œWeakeningâ€, (3.76b) â€œWeakeningâ€, (3.76c) â€œWeakeningâ€, â€œWeakeningâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— R â¦˜ c ) âˆ§ (âˆƒ b â€¢ a â¦— Q â¦˜ b âˆ§ b â¦— S â¦˜ c )
                    â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation compositionâ€
                            â€” CalcCheck: â”€ OK
                        a â¦— Q â¨¾ R â¦˜ c âˆ§ a â¦— Q â¨¾ S â¦˜ c
                    â‰¡ âŸ¨ â€œRelation intersectionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation intersectionâ€
                            â€” CalcCheck: â”€ OK
                        a â¦— Q â¨¾ R âˆ© Q â¨¾ S â¦˜ c                
                â€” CalcCheck: All steps OK
[25]
Polymorphic Identity
[26]
Similar to how equality â€œ_=_â€ can be used at type â€œA â†’ A â†’ ğ”¹â€ for any type A, the polymorphic identity relation ğ•€ can be used at type â€œA â†” Aâ€ at any type A.

[27]
Theorem â€œConverse of ğ•€â€:  ğ•€ Ë˜  =  ğ•€
Proof:
  Using â€œRelation extensionalityâ€:
    For any `x, y`:
        x â¦— ğ•€ Ë˜ â¦˜ y
      â‰¡âŸ¨ â€œRelation converseâ€âŸ©
        y â¦— ğ•€ â¦˜ x 
      â‰¡âŸ¨ â€œRelationship via ğ•€â€âŸ©
        y = x
      â‰¡âŸ¨ â€œReflexivity of =â€âŸ©
        x = y 
      â‰¡âŸ¨ â€œRelationship via ğ•€â€âŸ©
        x â¦— ğ•€ â¦˜ y
  

Theorem â€œConverse of ğ•€â€: ğ•€ Ë˜ = ğ•€
Proof:
    Using â€œRelation extensionalityâ€:       
        â€” CalcCheck: Found â€œRelation extensionalityâ€
        Subproof establishing `(âˆ€ x, y â€¢ x â¦— ğ•€ Ë˜ â¦˜ y â‰¡ x â¦— ğ•€ â¦˜ y )`:
            For any ` x, y`:
                Calculation establishing  `x â¦— ğ•€ Ë˜ â¦˜ y â‰¡ x â¦— ğ•€ â¦˜ y`:
                        x â¦— ğ•€ Ë˜ â¦˜ y
                    â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation converseâ€
                            â€” CalcCheck: â”€ OK
                        y â¦— ğ•€ â¦˜ x
                    â‰¡ âŸ¨ â€œRelationship via ğ•€â€ âŸ©
                            â€” CalcCheck: Found â€œRelationship via ğ•€â€
                            â€” CalcCheck: â”€ OK
                        y = x
                    â‰¡ âŸ¨ â€œReflexivity of =â€ âŸ©
                            â€” CalcCheck: Found (1.2) â€œReflexivity of =â€
                            â€” CalcCheck: OK (no change)
                            â€” CalcCheck: â”€ OK
                        x = y
                    â‰¡ âŸ¨ â€œRelationship via ğ•€â€ âŸ©
                            â€” CalcCheck: Found â€œRelationship via ğ•€â€
                            â€” CalcCheck: â”€ OK
                        x â¦— ğ•€ â¦˜ y                
                â€” CalcCheck: All steps OK
[28]
Theorem â€œLeft-identity of â¨¾â€ â€œIdentity of â¨¾â€:
    ğ•€ â¨¾ R = R
Proof:
  Using â€œRelation extensionalityâ€:
    For any `a, c`:
        a â¦— ğ•€ â¨¾ R â¦˜ c
      â‰¡âŸ¨ â€œRelation compositionâ€âŸ©
        (âˆƒ b â€¢ a â¦— ğ•€ â¦˜ b âˆ§ b â¦— R â¦˜ c)
      â‰¡âŸ¨ â€œRelationship via ğ•€â€âŸ©
        âˆƒ b â€¢ a = b âˆ§ b â¦— R â¦˜ c 
      â‰¡âŸ¨ â€œTrading for âˆƒâ€âŸ©
        âˆƒ b â™ a = b â€¢ b â¦— R â¦˜ c
      â‰¡âŸ¨ â€œOne-point rule for âˆƒâ€âŸ©
        (b â¦— R â¦˜ c)[b â‰” a]
      â‰¡âŸ¨ Substitution âŸ©
        a â¦— R â¦˜ c 

Theorem â€œLeft-identity of â¨¾â€ â€œIdentity of â¨¾â€: ğ•€ â¨¾ R = R
Proof:
    Using â€œRelation extensionalityâ€:       
        â€” CalcCheck: Found â€œRelation extensionalityâ€
        Subproof establishing `(âˆ€ a, c â€¢ a â¦— ğ•€ â¨¾ R â¦˜ c â‰¡ a â¦— R â¦˜ c )`:
            For any ` a, c`:
                Calculation establishing  `a â¦— ğ•€ â¨¾ R â¦˜ c â‰¡ a â¦— R â¦˜ c`:
                        a â¦— ğ•€ â¨¾ R â¦˜ c
                    â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation compositionâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ a â¦— ğ•€ â¦˜ b âˆ§ b â¦— R â¦˜ c )
                    â‰¡ âŸ¨ â€œRelationship via ğ•€â€ âŸ©
                            â€” CalcCheck: Found â€œRelationship via ğ•€â€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ a = b âˆ§ b â¦— R â¦˜ c )
                    â‰¡ âŸ¨ â€œTrading for âˆƒâ€ âŸ©
                            â€” CalcCheck: Found (9.19) â€œTrading for âˆƒâ€, (9.20) â€œTrading for âˆƒâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â™ a = b â€¢ b â¦— R â¦˜ c )
                    â‰¡ âŸ¨ â€œOne-point rule for âˆƒâ€ âŸ©
                            â€” CalcCheck: Found (8.14) â€œOne-point rule for âˆƒâ€
                            â€” CalcCheck: â”€ OK
                        (b â¦— R â¦˜ c)[b â‰” a]
                    â‰¡ âŸ¨ Substitution âŸ©
                            â€” CalcCheck: â”€ OK
                        a â¦— R â¦˜ c                
                â€” CalcCheck: All steps OK
[29]
If you didnâ€™t try it above, try it now: You should be able to omit the entire â€œSubproofâ€ line after the extensionality invocation:

[30]
Theorem â€œRight-identity of â¨¾â€ â€œIdentity of â¨¾â€:
    R â¨¾ ğ•€ = R
Proof:
  Using â€œRelation extensionalityâ€:
    For any `a, c`:
        a â¦— R â¨¾ ğ•€ â¦˜ c
      â‰¡âŸ¨ â€œRelation compositionâ€âŸ©
        (âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ b â¦— ğ•€ â¦˜ c )
      â‰¡âŸ¨ â€œRelationship via ğ•€â€âŸ©
        âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ b = c 
      â‰¡âŸ¨ â€œSymmetry of âˆ§â€âŸ©
        âˆƒ b â€¢ b = c âˆ§ a â¦— R â¦˜ b 
      â‰¡âŸ¨ â€œTrading for âˆƒâ€âŸ©
        âˆƒ b â™ b = c â€¢ a â¦— R â¦˜ b
      â‰¡âŸ¨ â€œOne-point rule for âˆƒâ€âŸ©
        (a â¦— R â¦˜ b)[b â‰” c]
      â‰¡âŸ¨ Substitution âŸ©
        a â¦— R â¦˜ c 

Theorem â€œRight-identity of â¨¾â€ â€œIdentity of â¨¾â€: R â¨¾ ğ•€ = R
Proof:
    Using â€œRelation extensionalityâ€:       
        â€” CalcCheck: Found â€œRelation extensionalityâ€
        Subproof establishing `(âˆ€ a, c â€¢ a â¦— R â¨¾ ğ•€ â¦˜ c â‰¡ a â¦— R â¦˜ c )`:
            For any ` a, c`:
                Calculation establishing  `a â¦— R â¨¾ ğ•€ â¦˜ c â‰¡ a â¦— R â¦˜ c`:
                        a â¦— R â¨¾ ğ•€ â¦˜ c
                    â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
                            â€” CalcCheck: Found â€œRelation compositionâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ b â¦— ğ•€ â¦˜ c )
                    â‰¡ âŸ¨ â€œRelationship via ğ•€â€ âŸ©
                            â€” CalcCheck: Found â€œRelationship via ğ•€â€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ b = c )
                    â‰¡ âŸ¨ â€œSymmetry of âˆ§â€ âŸ©
                            â€” CalcCheck: Found (3.36) â€œSymmetry of âˆ§â€
                            â€” CalcCheck: OK (no change)
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â€¢ b = c âˆ§ a â¦— R â¦˜ b )
                    â‰¡ âŸ¨ â€œTrading for âˆƒâ€ âŸ©
                            â€” CalcCheck: Found (9.19) â€œTrading for âˆƒâ€, (9.20) â€œTrading for âˆƒâ€
                            â€” CalcCheck: â”€ OK
                        (âˆƒ b â™ b = c â€¢ a â¦— R â¦˜ b )
                    â‰¡ âŸ¨ â€œOne-point rule for âˆƒâ€ âŸ©
                            â€” CalcCheck: Found (8.14) â€œOne-point rule for âˆƒâ€
                            â€” CalcCheck: â”€ OK
                        (a â¦— R â¦˜ b)[b â‰” c]
                    â‰¡ âŸ¨ Substitution âŸ©
                            â€” CalcCheck: â”€ OK
                        a â¦— R â¦˜ c                
                â€” CalcCheck: All steps OK
[31]
Calling all brothersâ€¦
[32]
The free variables of the following two theorem statements are intended to have the following types:

    R : A â†” B
    S : A â†” C
(I could have put those into additional explicit universal quantifiersâ€¦)

All bound variables are named accordingly.

Once you can calculate, start from the rightâ€¦

[33]
Theorem (R1): âˆ€ b : B â€¢ âˆ€ c : C â€¢
  (âˆ€ a : A â™ a â¦— R â¦˜ b â€¢ a â¦— S â¦˜ c)  â‰¡  b â¦— ~ (R Ë˜ â¨¾ ~ S) â¦˜ c
Proof:
  For any `b`, `c`:
      b â¦— ~ (R Ë˜ â¨¾ ~ S) â¦˜ c
    â‰¡âŸ¨ â€œRelation complementâ€âŸ©
      Â¬ (b â¦— R Ë˜ â¨¾ ~ S â¦˜ c) 
    â‰¡âŸ¨ â€œRelation compositionâ€âŸ©
      Â¬ (âˆƒ a â€¢ b â¦— R Ë˜ â¦˜ a âˆ§ a â¦— ~ S â¦˜ c)
    â‰¡âŸ¨ â€œRelation converseâ€âŸ©
      Â¬ (âˆƒ a â€¢ a â¦— R â¦˜ b âˆ§ a â¦— ~ S â¦˜ c)
    â‰¡âŸ¨ â€œGeneralised De Morganâ€âŸ©
      âˆ€ a â€¢ Â¬ ( a â¦— R â¦˜ b âˆ§ a â¦— ~ S â¦˜ c )
    â‰¡âŸ¨ â€œRelation complementâ€âŸ©
      âˆ€ a â€¢ Â¬ ( a â¦— R â¦˜ b âˆ§ Â¬ (a â¦— S â¦˜ c) )
    â‰¡âŸ¨ â€œDe Morganâ€âŸ©
      âˆ€ a â€¢ ( Â¬ (a â¦— R â¦˜ b) âˆ¨ Â¬ Â¬ (a â¦— S â¦˜ c) )
    â‰¡âŸ¨ â€œDouble negationâ€âŸ©
      âˆ€ a â€¢ ( Â¬ (a â¦— R â¦˜ b) âˆ¨ a â¦— S â¦˜ c )  
    â‰¡âŸ¨ â€œMaterial implicationâ€âŸ©
      âˆ€ a â€¢ ( a â¦— R â¦˜ b â‡’ a â¦— S â¦˜ c ) 
    â‰¡âŸ¨ â€œTrading for âˆ€â€âŸ©
      (âˆ€ a : A â™ a â¦— R â¦˜ b â€¢ a â¦— S â¦˜ c)

Theorem (R1): (âˆ€ b : B â€¢ (âˆ€ c : C â€¢ (âˆ€ a : A â™ a â¦— R â¦˜ b â€¢ a â¦— S â¦˜ c ) â‰¡ b â¦— ~ (R Ë˜ â¨¾ ~ S) â¦˜ c ) )   
    â€” CalcCheck: Proviso: Â¬occurs(`a`, `R, S`)
Proof:
    For any ` b`:
        For any ` c`:
            Calculation for expected goal  `(âˆ€ a : A â™ a â¦— R â¦˜ b â€¢ a â¦— S â¦˜ c ) â‰¡ b â¦— ~ (R Ë˜ â¨¾ ~ S) â¦˜ c`:
                    b â¦— ~ (R Ë˜ â¨¾ ~ S) â¦˜ c
                â‰¡ âŸ¨ â€œRelation complementâ€ âŸ©
                        â€” CalcCheck: Found â€œRelation complementâ€
                        â€” CalcCheck: â”€ OK
                    Â¬ (b â¦— R Ë˜ â¨¾ ~ S â¦˜ c)
                â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
                        â€” CalcCheck: Found â€œRelation compositionâ€
                        â€” CalcCheck: â”€ OK
                    Â¬ (âˆƒ a â€¢ b â¦— R Ë˜ â¦˜ a âˆ§ a â¦— ~ S â¦˜ c )
                â‰¡ âŸ¨ â€œRelation converseâ€ âŸ©
                        â€” CalcCheck: Found â€œRelation converseâ€
                        â€” CalcCheck: â”€ OK
                    Â¬ (âˆƒ a â€¢ a â¦— R â¦˜ b âˆ§ a â¦— ~ S â¦˜ c )
                â‰¡ âŸ¨ â€œGeneralised De Morganâ€ âŸ©
                        â€” CalcCheck: Found (9.18b) â€œGeneralised De Morganâ€, (9.18a) â€œGeneralised De Morganâ€, (9.18c) â€œGeneralised De Morganâ€, (9.17) â€œGeneralised De Morganâ€
                        â€” CalcCheck: â”€ OK
                    (âˆ€ a â€¢ Â¬ (a â¦— R â¦˜ b âˆ§ a â¦— ~ S â¦˜ c) )
                â‰¡ âŸ¨ â€œRelation complementâ€ âŸ©
                        â€” CalcCheck: Found â€œRelation complementâ€
                        â€” CalcCheck: â”€ OK
                    (âˆ€ a â€¢ Â¬ (a â¦— R â¦˜ b âˆ§ Â¬ (a â¦— S â¦˜ c)) )
                â‰¡ âŸ¨ â€œDe Morganâ€ âŸ©
                        â€” CalcCheck: Found (3.47a) â€œDe Morganâ€, (3.47b) â€œDe Morganâ€, (3.47c) â€œDe Morganâ€, (3.47d) â€œDe Morganâ€
                        â€” CalcCheck: â”€ OK
                    (âˆ€ a â€¢ Â¬ (a â¦— R â¦˜ b) âˆ¨ Â¬ (Â¬ (a â¦— S â¦˜ c)) )
                â‰¡ âŸ¨ â€œDouble negationâ€ âŸ©
                        â€” CalcCheck: Found (3.12) â€œDouble negationâ€
                        â€” CalcCheck: â”€ OK
                    (âˆ€ a â€¢ Â¬ (a â¦— R â¦˜ b) âˆ¨ a â¦— S â¦˜ c )
                â‰¡ âŸ¨ â€œMaterial implicationâ€ âŸ©
                        â€” CalcCheck: Found (3.59) â€œMaterial implicationâ€
                        â€” CalcCheck: â”€ OK
                    (âˆ€ a â€¢ a â¦— R â¦˜ b â‡’ a â¦— S â¦˜ c )
                â‰¡ âŸ¨ â€œTrading for âˆ€â€ âŸ©
                        â€” CalcCheck: Found (9.3a) â€œTrading for âˆ€â€, (9.3b) â€œTrading for âˆ€â€, (9.3c) â€œTrading for âˆ€â€, (9.4a) â€œTrading for âˆ€â€, (9.4b) â€œTrading for âˆ€â€, (9.4c) â€œTrading for âˆ€â€, (9.4d) â€œTrading for âˆ€â€, (9.2) â€œTrading for âˆ€â€
                        â€” CalcCheck: â”€ OK
                    (âˆ€ a : A â™ a â¦— R â¦˜ b â€¢ a â¦— S â¦˜ c )            
            â€” CalcCheck: All steps OK           
            â€” CalcCheck: Calculation matches goal â”€ OK
[34]
Prove (R2) using â€œRelation inclusionâ€ and start calculating from the left â€” in doubt, make the subproof goal explicit. You will probably need:

(3.66):                                                 p âˆ§ (p â‡’ q)  â‰¡  p âˆ§ q
â€œInstantiationâ€:                                          (âˆ€ x â€¢ P)  â‡’  P[x â‰” E]
â€œBody monotonicity of âˆƒâ€:   (âˆ€ x â™ R â€¢ Q â‡’ P)  â‡’     ((âˆƒ x â™ R â€¢ Q)  â‡’  (âˆƒ x â™ R â€¢ P))
â€œDistributivity of âˆ§ over âˆƒâ€:                     P âˆ§ (âˆƒ x â™ R â€¢ Q)  â‰¡  (âˆƒ x â™ R â€¢ P âˆ§ Q)
[35]
Theorem (R2): R â¨¾ ~ (R Ë˜ â¨¾ ~ S) âŠ† S
Proof:
  Using â€œRelation inclusionâ€:
    For any `a`, `c`:
        a â¦— R â¨¾ ~ (R Ë˜ â¨¾ ~ S) â¦˜ c
      â‰¡âŸ¨ â€œRelation compositionâ€âŸ©
        âˆƒ b â€¢ (a â¦— R â¦˜ b) âˆ§ (b â¦— ~ (R Ë˜ â¨¾ ~ S) â¦˜ c)
      â‰¡âŸ¨ (R1) âŸ©
        âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ (âˆ€ x â™ x â¦— R â¦˜ b â€¢ x â¦— S â¦˜ c) 
      â‰¡âŸ¨ â€œTrading for âˆ€â€âŸ©
        âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ (âˆ€ x â€¢ x â¦— R â¦˜ b â‡’ x â¦— S â¦˜ c)
      â‡’âŸ¨ â€œMonotonicity of âˆƒâ€ with â€œMonotonicity of âˆ§â€ with â€œInstantiationâ€âŸ©
        âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ (x â¦— R â¦˜ b â‡’ x â¦— S â¦˜ c)[x â‰” a]
      â‰¡âŸ¨ Substitution âŸ©
        âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ (a â¦— R â¦˜ b â‡’ a â¦— S â¦˜ c) 
      â‰¡âŸ¨ (3.66) âŸ©
        âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ a â¦— S â¦˜ c
      â‰¡âŸ¨ â€œDistributivity of âˆ§ over âˆƒâ€ âŸ©
        (âˆƒ b â€¢ a â¦— R â¦˜ b) âˆ§ a â¦— S â¦˜ c
      â‡’âŸ¨ â€œWeakeningâ€âŸ© 
        a â¦— S â¦˜ c

Theorem (R2): R â¨¾ ~ (R Ë˜ â¨¾ ~ S) âŠ† S
Proof:
    Using â€œRelation inclusionâ€:       
        â€” CalcCheck: Found â€œRelation inclusionâ€
        Subproof establishing `(âˆ€ a â€¢ (âˆ€ c â€¢ a â¦— R â¨¾ ~ (R Ë˜ â¨¾ ~ S) â¦˜ c â‡’ a â¦— S â¦˜ c ) )`:
            For any ` a`:
                For any ` c`:
                    Calculation establishing  `a â¦— R â¨¾ ~ (R Ë˜ â¨¾ ~ S) â¦˜ c â‡’ a â¦— S â¦˜ c`:
                            a â¦— R â¨¾ ~ (R Ë˜ â¨¾ ~ S) â¦˜ c
                        â‰¡ âŸ¨ â€œRelation compositionâ€ âŸ©
                                â€” CalcCheck: Found â€œRelation compositionâ€
                                â€” CalcCheck: â”€ OK
                            (âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ b â¦— ~ (R Ë˜ â¨¾ ~ S) â¦˜ c )
                        â‰¡ âŸ¨ (R1) âŸ©
                                â€” CalcCheck: Found (R1) `(âˆ€ b : B â€¢ (âˆ€ c : C â€¢ (âˆ€ a : A â™ a â¦— R â¦˜ b â€¢ a â¦— S â¦˜ c ) â‰¡ b â¦— ~ (R Ë˜ â¨¾ ~ S) â¦˜ c ) )`
                                â€” CalcCheck: â”€ OK
                            (âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ (âˆ€ x â™ x â¦— R â¦˜ b â€¢ x â¦— S â¦˜ c ) )
                        â‰¡ âŸ¨ â€œTrading for âˆ€â€ âŸ©
                                â€” CalcCheck: Found (9.3a) â€œTrading for âˆ€â€, (9.3b) â€œTrading for âˆ€â€, (9.3c) â€œTrading for âˆ€â€, (9.4a) â€œTrading for âˆ€â€, (9.4b) â€œTrading for âˆ€â€, (9.4c) â€œTrading for âˆ€â€, (9.4d) â€œTrading for âˆ€â€, (9.2) â€œTrading for âˆ€â€
                                â€” CalcCheck: â”€ OK
                            (âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ (âˆ€ x â€¢ x â¦— R â¦˜ b â‡’ x â¦— S â¦˜ c ) )
                        â‡’ âŸ¨ â€œMonotonicity of âˆƒâ€ with â€œMonotonicity of âˆ§â€ with â€œInstantiationâ€ âŸ©
                                â€” CalcCheck: Found (9.27) â€œMonotonicity of âˆƒâ€
                                â€” CalcCheck: Found â€œMonotonicity of âˆ§â€, (4.3) â€œLeft-monotonicity of âˆ§â€
                                â€” CalcCheck: Found (9.13) â€œInstantiationâ€, (9.13.2) â€œInstantiationâ€, (9.13.1) â€œInstantiationâ€
                                â€” CalcCheck: â”€ OK
                            (âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ (x â¦— R â¦˜ b â‡’ x â¦— S â¦˜ c)[x â‰” a] )
                        â‰¡ âŸ¨ Substitution âŸ©
                                â€” CalcCheck: â”€ OK
                            (âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ (a â¦— R â¦˜ b â‡’ a â¦— S â¦˜ c) )
                        â‰¡ âŸ¨ (3.66) âŸ©
                                â€” CalcCheck: Found (3.66) â€œStrong modus ponensâ€
                                â€” CalcCheck: â”€ OK
                            (âˆƒ b â€¢ a â¦— R â¦˜ b âˆ§ a â¦— S â¦˜ c )
                        â‰¡ âŸ¨ â€œDistributivity of âˆ§ over âˆƒâ€ âŸ©
                                â€” CalcCheck: Found (9.21) â€œDistributivity of âˆ§ over âˆƒâ€
                                â€” CalcCheck: â”€ OK
                            (âˆƒ b â€¢ a â¦— R â¦˜ b ) âˆ§ a â¦— S â¦˜ c
                        â‡’ âŸ¨ â€œWeakeningâ€ âŸ©
                                â€” CalcCheck: Found (3.76e) â€œWeakeningâ€, (3.76d) â€œWeakeningâ€, (3.76a) â€œWeakeningâ€, (3.76b) â€œWeakeningâ€, (3.76c) â€œWeakeningâ€, â€œWeakeningâ€
                                â€” CalcCheck: â”€ OK
                            a â¦— S â¦˜ c                    
                    â€” CalcCheck: All steps OK
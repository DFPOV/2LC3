â€” Homework 14: Domain in Abstract Relation Algebra
[1]
The Reference Notebooks 9.2, 9.3 and 9.4 containing our previous development of abstract relation algebra involving âŠ†, â¨¾, Ë˜, and âˆ© are preloaded here, and also Exercise 9.6 which adds the modal rules and the Dedekind rule.

Be aware that composition â¨¾ has higher precedence than intersection âˆ©!

As in Ex9.6, the monotonicity properties of the relation operations are activated here, and the keyword Monotonicity is enabled: Where before you had to write

        S Ë˜ â¨¾ R Ë˜ â¨¾ R â¨¾ S
      âŠ†âŸ¨ â€œMonotonicity of â¨¾â€ with â€œMonotonicity of â¨¾â€ with
         Assumption `R Ë˜ â¨¾ R âŠ† ğ•€`, â€œIdentity of â¨¾â€ âŸ©
        S Ë˜ â¨¾ S
you now can just write the following:

        S Ë˜ â¨¾ R Ë˜ â¨¾ R â¨¾ S
      âŠ†âŸ¨ Monotonicity with Assumption `R Ë˜ â¨¾ R âŠ† ğ•€`, â€œIdentity of â¨¾â€ âŸ©
        S Ë˜ â¨¾ S
This Monotonicity is a keyword (like Evaluation and Assumption), not a theorem name, and therefore has to be used without quotation marks. It only makes sense before with. (Where the keyword Monotonicity is enabled, the keyword Antitonicity is enabled as well.)

If using Monotonicity leads to a time-out, try the appropriate nesting of explicit â€œMonotonicity of â€¦â€ theorems instead. (And if that still does not help, a subproof for the innermost step frequently helps on the road towards finding a solution.)

[2]
Antisymmetry of inclusion âŠ† is also activated here, so that instead of

    Using â€œMutual inclusionâ€:
      Subproof for `R âŠ† S`:
        ...
      Subproof for `S âŠ† R`:
        ...
you can now write:

      R
    âŠ†âŸ¨ ... âŸ©
      S
    âŠ†âŸ¨ ... âŸ©
      R
for a proof of R = S.

[3]
Prove all theorems below â€” these are a selection from Reference Notebook 11.3, and some of the additional theorems there may come in useful here.

Where the theorems you prove have numbers, you are not allowed to use numbered theorems with equal or larger numbers (or theorems occurring after the current theorem in this notebook).

(Theorems with larger numbers may still be offered by theorem name completion, but will not be accepted by the proof checker.)

Even though theorem numbers are relevant for which theorems you are allowed to use, you still do not have to refer to theorems by their numbers â€” it remains preferred that you refer to named theorems by (one of) their names.

Up to four hint items are allowed per hint.

You should not need to introduce additional auxiliary theorems.

[4]
Before you start, you want to be generally familiar with the content of Reference Notebooks 9.2, 9.3 and 9.4, and have worked through a good portion of Exercises 9.3 to 9.6.

[5]
We start with proving additional useful properties of subidentities (which are also called â€œcoreflexivesâ€):

[6]
Useful Properties of Subidentities
[7]
Theorem (dom.100) â€œConverse of subidentityâ€:  q âŠ† ğ•€  â‡’  q Ë˜ âŠ† ğ•€
Proof:
    q âŠ† ğ•€
  â‰¡âŸ¨ â€œIsotonicity of Ë˜â€âŸ© 
    q Ë˜ âŠ† ğ•€ Ë˜
  â‰¡âŸ¨ â€œConverse of ğ•€â€âŸ©
    q Ë˜ âŠ† ğ•€

Theorem (dom.100) â€œConverse of subidentityâ€: q âŠ† ğ•€ â‡’ q Ë˜ âŠ† ğ•€
Proof:
    Calculation for expected goal  `q âŠ† ğ•€ â‡’ q Ë˜ âŠ† ğ•€`:
            q âŠ† ğ•€
        â‰¡ âŸ¨ â€œIsotonicity of Ë˜â€ âŸ©
                â€” CalcCheck: Found â€œIsotonicity of Ë˜â€
                â€” CalcCheck: â”€ OK
            q Ë˜ âŠ† ğ•€ Ë˜
        â‰¡ âŸ¨ â€œConverse of ğ•€â€ âŸ©
                â€” CalcCheck: Found â€œConverse of ğ•€â€
                â€” CalcCheck: â”€ OK
            q Ë˜ âŠ† ğ•€    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[8]
Theorem (dom.101) â€œSubidentity included in Ë˜â€:  q âŠ† ğ•€  â‡’  q âŠ† q Ë˜
Proof:
    Assuming (1) `q âŠ† ğ•€`:
        q 
      âŠ†âŸ¨ â€œHesitationâ€âŸ©
        q â¨¾ (q Ë˜ â¨¾ q) 
      âŠ†âŸ¨ â€œMonotonicity of â¨¾â€ with Assumption (1)âŸ©
        ğ•€ â¨¾ (q Ë˜ â¨¾ q)
      =âŸ¨ â€œIdentity of â¨¾â€âŸ©
        q Ë˜ â¨¾ q
      âŠ†âŸ¨ â€œMonotonicity of â¨¾â€ with Assumption (1), â€œIdentity of â¨¾â€âŸ©
        q Ë˜
        
      

Theorem (dom.101) â€œSubidentity included in Ë˜â€: q âŠ† ğ•€ â‡’ q âŠ† q Ë˜
Proof:
    Assuming (1) `q âŠ† ğ•€`:
    â€” CalcCheck: Assumption matches goal
        Calculation for expected goal  `q âŠ† q Ë˜`:
                q
            âŠ† âŸ¨ â€œHesitationâ€ âŸ©
                    â€” CalcCheck: Found â€œHesitationâ€
                    â€” CalcCheck: â”€ OK
                q â¨¾ (q Ë˜ â¨¾ q)
            âŠ† âŸ¨ â€œMonotonicity of â¨¾â€ with Assumption (1) âŸ©
                    â€” CalcCheck: Found â€œLeft-monotonicity of â¨¾â€, â€œRight-monotonicity of â¨¾â€, â€œMonotonicity of â¨¾â€
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: â”€ OK
                ğ•€ â¨¾ (q Ë˜ â¨¾ q)
            = âŸ¨ â€œIdentity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œIdentity of â¨¾â€
                    â€” CalcCheck: â”€ OK
                q Ë˜ â¨¾ q
            âŠ† âŸ¨ â€œMonotonicity of â¨¾â€ with Assumption (1), â€œIdentity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œLeft-monotonicity of â¨¾â€, â€œRight-monotonicity of â¨¾â€, â€œMonotonicity of â¨¾â€
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: Found â€œIdentity of â¨¾â€
                    â€” CalcCheck: â”€ OK
                q Ë˜        
        â€” CalcCheck: All steps OK       
        â€” CalcCheck: Calculation matches goal â”€ OK
[9]
Theorem (dom.102) â€œSymmetry of subidentityâ€:  q âŠ† ğ•€  â‡’  q Ë˜ = q
Proof:
  Assuming (1) `q âŠ† ğ•€`:
    Side proof for `q âŠ† ğ•€  â‰¡  q Ë˜ âŠ† ğ•€`:
        q âŠ† ğ•€  â‰¡  q Ë˜ âŠ† ğ•€
      â‰¡âŸ¨ â€œIsotonicity of Ë˜â€âŸ©
        q Ë˜ âŠ† ğ•€ Ë˜ â‰¡  q Ë˜ âŠ† ğ•€ 
      â‰¡âŸ¨ â€œConverse of ğ•€â€âŸ©
        q Ë˜ âŠ† ğ•€  â‰¡  q Ë˜ âŠ† ğ•€ 
      â‰¡âŸ¨ â€œReflexivity of â‰¡â€âŸ©
        true 

    Continuing: 
        q
      âŠ†âŸ¨ â€œSubidentity included in Ë˜â€ with Assumption (1)âŸ©
        q Ë˜
      âŠ†âŸ¨ â€œSubidentity included in Ë˜â€ with Assumption (1) and local property `q âŠ† ğ•€  â‰¡  q Ë˜ âŠ† ğ•€`âŸ©
        (q Ë˜) Ë˜ 
      =âŸ¨ â€œSelf-inverse of Ë˜â€âŸ©
        q 
    

Theorem (dom.102) â€œSymmetry of subidentityâ€: q âŠ† ğ•€ â‡’ q Ë˜ = q
Proof:
    Assuming (1) `q âŠ† ğ•€`:
    â€” CalcCheck: Assumption matches goal
        Side proof for `q âŠ† ğ•€ â‰¡ q Ë˜ âŠ† ğ•€`:
                    q âŠ† ğ•€ â‰¡ q Ë˜ âŠ† ğ•€
                â‰¡ âŸ¨ â€œIsotonicity of Ë˜â€ âŸ©
                        â€” CalcCheck: Found â€œIsotonicity of Ë˜â€
                        â€” CalcCheck: â”€ OK
                    q Ë˜ âŠ† ğ•€ Ë˜ â‰¡ q Ë˜ âŠ† ğ•€
                â‰¡ âŸ¨ â€œConverse of ğ•€â€ âŸ©
                        â€” CalcCheck: Found â€œConverse of ğ•€â€
                        â€” CalcCheck: â”€ OK
                    q Ë˜ âŠ† ğ•€ â‰¡ q Ë˜ âŠ† ğ•€
                â‰¡ âŸ¨ â€œReflexivity of â‰¡â€ âŸ©
                        â€” CalcCheck: Found (3.5) â€œReflexivity of â‰¡â€
                        â€” CalcCheck: â”€ OK
                    true            
            â€” CalcCheck: All steps OK           
            â€” CalcCheck: Calculation matches goal â”€ OK
        Continuing:
            Calculation for expected goal  `q Ë˜ = q`:
                    q
                âŠ† âŸ¨ â€œSubidentity included in Ë˜â€ with Assumption (1) âŸ©
                        â€” CalcCheck: Found (dom.101) â€œSubidentity included in Ë˜â€
                        â€” CalcCheck: Found assumption (1)
                        â€” CalcCheck: â”€ OK
                    q Ë˜
                âŠ† âŸ¨ â€œSubidentity included in Ë˜â€ with Assumption (1) and Local property `q âŠ† ğ•€ â‰¡ q Ë˜ âŠ† ğ•€` âŸ©
                        â€” CalcCheck: Found (dom.101) â€œSubidentity included in Ë˜â€
                        â€” CalcCheck: Found assumption (1)
                        â€” CalcCheck: Found local property `q âŠ† ğ•€ â‰¡ q Ë˜ âŠ† ğ•€`
                        â€” CalcCheck: â”€ OK
                    (q Ë˜) Ë˜
                = âŸ¨ â€œSelf-inverse of Ë˜â€ âŸ©
                        â€” CalcCheck: Found â€œSelf-inverse of Ë˜â€
                        â€” CalcCheck: â”€ OK
                    q            
            â€” CalcCheck: All steps OK           
            â€” CalcCheck: Cyclic `_âŠ†_`-calculation matches goal â”€ OK
[10]
Theorem (dom.103) â€œIdempotency of subidentityâ€:  q âŠ† ğ•€  â‡’  q â¨¾ q = q
Proof:
  Assuming (1) `q âŠ† ğ•€`:
      q â¨¾ q
    âŠ†âŸ¨ â€œMonotonicity of â¨¾â€ with Assumption (1)âŸ©
      q â¨¾ ğ•€
    =âŸ¨ â€œIdentity of â¨¾â€âŸ©
      q
    âŠ†âŸ¨ â€œHesitationâ€âŸ©
      q â¨¾ (q Ë˜ â¨¾ q)
    âŠ†âŸ¨â€œMonotonicity of â¨¾â€ with Assumption (1), â€œIdentity of â¨¾â€âŸ©
      q Ë˜ â¨¾ q
    =âŸ¨â€œSymmetry of subidentityâ€ with Assumption (1)âŸ©
      q â¨¾ q 
      
        

Theorem (dom.103) â€œIdempotency of subidentityâ€: q âŠ† ğ•€ â‡’ q â¨¾ q = q
Proof:
    Assuming (1) `q âŠ† ğ•€`:
    â€” CalcCheck: Assumption matches goal
        Calculation for expected goal  `q â¨¾ q = q`:
                q â¨¾ q
            âŠ† âŸ¨ â€œMonotonicity of â¨¾â€ with Assumption (1) âŸ©
                    â€” CalcCheck: Found â€œLeft-monotonicity of â¨¾â€, â€œRight-monotonicity of â¨¾â€, â€œMonotonicity of â¨¾â€
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: â”€ OK
                q â¨¾ ğ•€
            = âŸ¨ â€œIdentity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œIdentity of â¨¾â€
                    â€” CalcCheck: â”€ OK
                q
            âŠ† âŸ¨ â€œHesitationâ€ âŸ©
                    â€” CalcCheck: Found â€œHesitationâ€
                    â€” CalcCheck: â”€ OK
                q â¨¾ (q Ë˜ â¨¾ q)
            âŠ† âŸ¨ â€œMonotonicity of â¨¾â€ with Assumption (1), â€œIdentity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œLeft-monotonicity of â¨¾â€, â€œRight-monotonicity of â¨¾â€, â€œMonotonicity of â¨¾â€
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: Found â€œIdentity of â¨¾â€
                    â€” CalcCheck: â”€ OK
                q Ë˜ â¨¾ q
            = âŸ¨ â€œSymmetry of subidentityâ€ with Assumption (1) âŸ©
                    â€” CalcCheck: Found (dom.102) â€œSymmetry of subidentityâ€
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: â”€ OK
                q â¨¾ q        
        â€” CalcCheck: All steps OK       
        â€” CalcCheck: Cyclic `_âŠ†_`-calculation matches goal â”€ OK
[11]
Theorem (dom.107) â€œSub-commutativity of subidentitiesâ€:
    p âŠ† ğ•€  âˆ§  q âŠ† ğ•€   â‡’   p â¨¾ q âŠ† q â¨¾ p
Proof:
    Assuming (1) `p âŠ† ğ•€`, 
             (2) `q âŠ† ğ•€`:
        p â¨¾ q
      âŠ†âŸ¨ â€œHesitationâ€âŸ©
        p â¨¾ q â¨¾ ((p â¨¾ q) Ë˜ â¨¾ (p â¨¾ q))
      âŠ†âŸ¨â€œMonotonicity of â¨¾â€ with Assumption (1), â€œIdentity of â¨¾â€âŸ©
        q â¨¾ ((p â¨¾ q) Ë˜ â¨¾ (p â¨¾ q))
      âŠ†âŸ¨â€œMonotonicity of â¨¾â€ with Assumption (2), â€œIdentity of â¨¾â€âŸ©
        ((p â¨¾ q) Ë˜ â¨¾ (p â¨¾ q))
      âŠ†âŸ¨â€œMonotonicity of â¨¾â€ with â€œMonotonicity of â¨¾â€ with Assumption (1), â€œIdentity of â¨¾â€âŸ©
        ((p â¨¾ q) Ë˜ â¨¾ q)
      âŠ†âŸ¨â€œMonotonicity of â¨¾â€ with â€œMonotonicity of â¨¾â€ with Assumption (2), â€œIdentity of â¨¾â€âŸ©
        (p â¨¾ q) Ë˜
      =âŸ¨ â€œConverse of â¨¾â€âŸ©
        (q Ë˜ â¨¾ p Ë˜)
      =âŸ¨ â€œSymmetry of subidentityâ€ with Assumption (1), â€œSymmetry of subidentityâ€ with Assumption (2)âŸ© 
        q â¨¾ p
      
      

Theorem (dom.107) â€œSub-commutativity of subidentitiesâ€: p âŠ† ğ•€ âˆ§ q âŠ† ğ•€ â‡’ p â¨¾ q âŠ† q â¨¾ p
Proof:
    Assuming (1) `p âŠ† ğ•€` , (2) `q âŠ† ğ•€`:
    â€” CalcCheck: Assumptions match goal
        Calculation for expected goal  `p â¨¾ q âŠ† q â¨¾ p`:
                p â¨¾ q
            âŠ† âŸ¨ â€œHesitationâ€ âŸ©
                    â€” CalcCheck: Found â€œHesitationâ€
                    â€” CalcCheck: â”€ OK
                p â¨¾ (q â¨¾ ((p â¨¾ q) Ë˜ â¨¾ (p â¨¾ q)))
            âŠ† âŸ¨ â€œMonotonicity of â¨¾â€ with Assumption (1), â€œIdentity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œLeft-monotonicity of â¨¾â€, â€œRight-monotonicity of â¨¾â€, â€œMonotonicity of â¨¾â€
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: Found â€œIdentity of â¨¾â€
                    â€” CalcCheck: â”€ OK
                q â¨¾ ((p â¨¾ q) Ë˜ â¨¾ (p â¨¾ q))
            âŠ† âŸ¨ â€œMonotonicity of â¨¾â€ with Assumption (2), â€œIdentity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œLeft-monotonicity of â¨¾â€, â€œRight-monotonicity of â¨¾â€, â€œMonotonicity of â¨¾â€
                    â€” CalcCheck: Found assumption (2)
                    â€” CalcCheck: Found â€œIdentity of â¨¾â€
                    â€” CalcCheck: â”€ OK
                (p â¨¾ q) Ë˜ â¨¾ (p â¨¾ q)
            âŠ† âŸ¨ â€œMonotonicity of â¨¾â€ with â€œMonotonicity of â¨¾â€ with Assumption (1), â€œIdentity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œLeft-monotonicity of â¨¾â€, â€œRight-monotonicity of â¨¾â€, â€œMonotonicity of â¨¾â€
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: Found â€œIdentity of â¨¾â€
                    â€” CalcCheck: â”€ OK
                (p â¨¾ q) Ë˜ â¨¾ q
            âŠ† âŸ¨ â€œMonotonicity of â¨¾â€ with â€œMonotonicity of â¨¾â€ with Assumption (2), â€œIdentity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œLeft-monotonicity of â¨¾â€, â€œRight-monotonicity of â¨¾â€, â€œMonotonicity of â¨¾â€
                    â€” CalcCheck: Found assumption (2)
                    â€” CalcCheck: Found â€œIdentity of â¨¾â€
                    â€” CalcCheck: â”€ OK
                (p â¨¾ q) Ë˜
            = âŸ¨ â€œConverse of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œConverse of â¨¾â€
                    â€” CalcCheck: â”€ OK
                q Ë˜ â¨¾ p Ë˜
            = âŸ¨ â€œSymmetry of subidentityâ€ with Assumption (1), â€œSymmetry of subidentityâ€ with Assumption (2) âŸ©
                    â€” CalcCheck: Found (dom.102) â€œSymmetry of subidentityâ€
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: Found assumption (2)
                    â€” CalcCheck: â”€ OK
                q â¨¾ p        
        â€” CalcCheck: All steps OK       
        â€” CalcCheck: Calculation matches goal â”€ OK
[12]
Theorem (dom.108) â€œCommutativity of subidentitiesâ€:
    p âŠ† ğ•€  âˆ§  q âŠ† ğ•€   â‡’   p â¨¾ q = q â¨¾ p
Proof:
  Assuming (1) `p âŠ† ğ•€`,
           (2) `q âŠ† ğ•€`:
      p â¨¾ q
    âŠ†âŸ¨ â€œSub-commutativity of subidentitiesâ€ with Assumption (1) and Assumption (2)âŸ© 
      q â¨¾ p
    âŠ†âŸ¨ â€œSub-commutativity of subidentitiesâ€ with Assumption (1) and Assumption (2)âŸ© 
      p â¨¾ q

Theorem (dom.108) â€œCommutativity of subidentitiesâ€: p âŠ† ğ•€ âˆ§ q âŠ† ğ•€ â‡’ p â¨¾ q = q â¨¾ p
Proof:
    Assuming (1) `p âŠ† ğ•€` , (2) `q âŠ† ğ•€`:
    â€” CalcCheck: Assumptions match goal
        Calculation for expected goal  `p â¨¾ q = q â¨¾ p`:
                p â¨¾ q
            âŠ† âŸ¨ â€œSub-commutativity of subidentitiesâ€ with Assumption (1) and Assumption (2) âŸ©
                    â€” CalcCheck: Found (dom.107) â€œSub-commutativity of subidentitiesâ€
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: Found assumption (2)
                    â€” CalcCheck: â”€ OK
                q â¨¾ p
            âŠ† âŸ¨ â€œSub-commutativity of subidentitiesâ€ with Assumption (1) and Assumption (2) âŸ©
                    â€” CalcCheck: Found (dom.107) â€œSub-commutativity of subidentitiesâ€
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: Found assumption (2)
                    â€” CalcCheck: â”€ OK
                p â¨¾ q        
        â€” CalcCheck: All steps OK       
        â€” CalcCheck: Cyclic `_âŠ†_`-calculation matches goal â”€ OK
[13]
Theorem (dom.109) â€œModal rule with injectiveâ€:
    injective Q  â‡’   Q â¨¾ R âˆ© S = Q â¨¾ (R âˆ© Q Ë˜ â¨¾ S)
Proof:
  Assuming (1) `injective Q` and using withâ€œDefinition of injectivityâ€: â•â•â•  Q â¨¾ Q Ë˜ âŠ† ğ•€
        Q â¨¾ R âˆ© S
      âŠ†âŸ¨ â€œModal ruleâ€âŸ©
        Q â¨¾ (R âˆ© (Q Ë˜ â¨¾ S))
      âŠ†âŸ¨ â€œSub-distributivity of â¨¾ over âˆ©â€âŸ©
        Q â¨¾ R âˆ© Q â¨¾ (Q Ë˜ â¨¾ S)
      =âŸ¨ â€œAssociativity of â¨¾â€âŸ©
        Q â¨¾ R âˆ© (Q â¨¾ Q Ë˜) â¨¾ S 
      âŠ†âŸ¨ Monotonicity with Monotonicity with Assumption (1), â€œIdentity of â¨¾â€âŸ©
        Q â¨¾ R âˆ© S 
        
      

Theorem (dom.109) â€œModal rule with injectiveâ€: injective Q â‡’ Q â¨¾ R âˆ© S = Q â¨¾ (R âˆ© Q Ë˜ â¨¾ S)
Proof:
    Assuming (1) `injective Q` and using with â€œDefinition of injectivityâ€
    â€” CalcCheck: Found â€œDefinition of injectivityâ€:
    â€” CalcCheck: Assumption matches goal
        Calculation for expected goal  `Q â¨¾ R âˆ© S = Q â¨¾ (R âˆ© Q Ë˜ â¨¾ S)`:
                Q â¨¾ R âˆ© S
            âŠ† âŸ¨ â€œModal ruleâ€ âŸ©
                    â€” CalcCheck: Found â€œModal ruleâ€
                    â€” CalcCheck: â”€ OK
                Q â¨¾ (R âˆ© Q Ë˜ â¨¾ S)
            âŠ† âŸ¨ â€œSub-distributivity of â¨¾ over âˆ©â€ âŸ©
                    â€” CalcCheck: Found â€œSub-distributivity of â¨¾ over âˆ©â€
                    â€” CalcCheck: â”€ OK
                Q â¨¾ R âˆ© Q â¨¾ (Q Ë˜ â¨¾ S)
            = âŸ¨ â€œAssociativity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œAssociativity of â¨¾â€
                    â€” CalcCheck: OK (no change)
                    â€” CalcCheck: â”€ OK
                Q â¨¾ R âˆ© (Q â¨¾ Q Ë˜) â¨¾ S
            âŠ† âŸ¨ Monotonicity with Monotonicity with Assumption (1), â€œIdentity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: Found â€œIdentity of â¨¾â€
                    â€” CalcCheck: â”€ OK
                Q â¨¾ R âˆ© S        
        â€” CalcCheck: All steps OK       
        â€” CalcCheck: Cyclic `_âŠ†_`-calculation matches goal â”€ OK
[14]
Domain via Intersection, Composition, and Converse
[15]
In the abstract relation-algebraic setting, we are only dealing with types A â†” B that we understand to be populated by relations; we do not have anything corresponding to the set types of set theory, and therefore we have no direct way to express Dom, â—, â¦‡_â¦ˆ, etc..

One candidate for â€œrelations representing setsâ€ are subidentities: In set theory, id A is a relation that can just serve as a representation of set A, and we have seen that this allows us to define â—:

    Theorem (14.237) â€œDomain restriction via â¨¾â€:    A â— R  =  id A â¨¾ R
In the abstract relation-algebraic setting, the role of the operation

    Dom : (A â†” B) â†’ set A
is taken by the new operation

    dom : (A â†” B) â†’ (A â†” A)
taking each relation R to the subidentity relation representing the set Dom R:

[16]
Declaration: dom : (A â†” B) â†’ (A â†” A)
Declaration: ran : (A â†” B) â†’ (B â†” B)

Declaration: dom : A â†” B â†’ A â†” A
Declaration: ran : A â†” B â†’ B â†” B
[17]
These operations dom and ran can be defined via intersection, composition, and converse:

[18]
Axiom (dom.200) â€œ`dom` via âˆ©â€ â€œRelation-algebraic definition of `dom`â€:
    dom R = R â¨¾ R Ë˜ âˆ© ğ•€

Axiom (dom.200) â€œ`dom` via âˆ©â€ â€œRelation-algebraic definition of `dom`â€: dom R = R â¨¾ R Ë˜ âˆ© ğ•€
[19]
Axiom (dom.201) â€œ`ran` via âˆ©â€ â€œRelation-algebraic definition of `ran`â€:
    ran R = R Ë˜ â¨¾ R âˆ© ğ•€

Axiom (dom.201) â€œ`ran` via âˆ©â€ â€œRelation-algebraic definition of `ran`â€: ran R = R Ë˜ â¨¾ R âˆ© ğ•€
[20]
The remainder of this notebook contains the same sequence of theorems as in Ref11.2, which however need to be proven here from these very different definitions, and purely in the setting of abstract relation algebra (that is, no _â¦—_â¦˜_, no â€œRelation extensionalityâ€).

[21]
The operators dom and ran are Ë˜-dual to each other:

[22]
Theorem (dom.202) â€œ`dom` of converseâ€ â€œ`ran` via `dom`â€:  dom (R Ë˜) = ran R
Proof:
    dom (R Ë˜)
  =âŸ¨ â€œ`dom` via âˆ©â€, â€œSelf-inverse of Ë˜â€âŸ© 
    R Ë˜ â¨¾ R âˆ© ğ•€
  =âŸ¨ â€œ`ran` via âˆ©â€âŸ©
    ran (R)

Theorem (dom.202) â€œ`dom` of converseâ€ â€œ`ran` via `dom`â€: dom (R Ë˜) = ran R
Proof:
    Calculation for expected goal  `dom (R Ë˜) = ran R`:
            dom (R Ë˜)
        = âŸ¨ â€œ`dom` via âˆ©â€, â€œSelf-inverse of Ë˜â€ âŸ©
                â€” CalcCheck: Found (dom.200) â€œ`dom` via âˆ©â€
                â€” CalcCheck: Found â€œSelf-inverse of Ë˜â€
                â€” CalcCheck: â”€ OK
            R Ë˜ â¨¾ R âˆ© ğ•€
        = âŸ¨ â€œ`ran` via âˆ©â€ âŸ©
                â€” CalcCheck: Found (dom.201) â€œ`ran` via âˆ©â€
                â€” CalcCheck: â”€ OK
            ran R    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[23]
Theorem (dom.203) â€œ`ran` of converseâ€ â€œ`dom` via `ran`â€:  ran (R Ë˜) = dom R
Proof:
    ran (R Ë˜)
  =âŸ¨ â€œ`ran` via âˆ©â€, â€œSelf-inverse of Ë˜â€, â€œ`dom` via âˆ©â€âŸ©
    dom R 

Theorem (dom.203) â€œ`ran` of converseâ€ â€œ`dom` via `ran`â€: ran (R Ë˜) = dom R
Proof:
    Calculation for expected goal  `ran (R Ë˜) = dom R`:
            ran (R Ë˜)
        = âŸ¨ â€œ`ran` via âˆ©â€, â€œSelf-inverse of Ë˜â€, â€œ`dom` via âˆ©â€ âŸ©
                â€” CalcCheck: Found (dom.201) â€œ`ran` via âˆ©â€
                â€” CalcCheck: Found â€œSelf-inverse of Ë˜â€
                â€” CalcCheck: Found (dom.200) â€œ`dom` via âˆ©â€
                â€” CalcCheck: â”€ OK
            dom R    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[24]
Due to this duality, the proofs for properties of ran can frequently be made much shorter than the proofs for the corresponding properties of dom, by just invoking the property of dom and adapting for the Ë˜-duality. (As far as the dom property has to be proven firstâ€¦)

[25]
Theorem (dom.204) â€œSubidentity `dom`â€:  dom R âŠ† ğ•€
Proof:
    dom R
  =âŸ¨â€œ`dom` via âˆ©â€âŸ©
    (R â¨¾ R Ë˜) âˆ© ğ•€ 
  âŠ†âŸ¨â€œWeakening for âˆ©â€âŸ©
    ğ•€

Theorem (dom.204) â€œSubidentity `dom`â€: dom R âŠ† ğ•€
Proof:
    Calculation for expected goal  `dom R âŠ† ğ•€`:
            dom R
        = âŸ¨ â€œ`dom` via âˆ©â€ âŸ©
                â€” CalcCheck: Found (dom.200) â€œ`dom` via âˆ©â€
                â€” CalcCheck: â”€ OK
            R â¨¾ R Ë˜ âˆ© ğ•€
        âŠ† âŸ¨ â€œWeakening for âˆ©â€ âŸ©
                â€” CalcCheck: Found â€œWeakening for âˆ©â€
                â€” CalcCheck: â”€ OK
            ğ•€    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[26]
Theorem (dom.205) â€œSubidentity `ran`â€:  ran R âŠ† ğ•€
Proof:
    ran R
  =âŸ¨â€œSelf-inverse of Ë˜â€âŸ©
    ran (R Ë˜ Ë˜)
  =âŸ¨â€œ`ran` of converseâ€âŸ©
    dom (R Ë˜)
  âŠ†âŸ¨â€œSubidentity `dom`â€âŸ©
    ğ•€ 

Theorem (dom.205) â€œSubidentity `ran`â€: ran R âŠ† ğ•€
Proof:
    Calculation for expected goal  `ran R âŠ† ğ•€`:
            ran R
        = âŸ¨ â€œSelf-inverse of Ë˜â€ âŸ©
                â€” CalcCheck: Found â€œSelf-inverse of Ë˜â€
                â€” CalcCheck: â”€ OK
            ran ((R Ë˜) Ë˜)
        = âŸ¨ â€œ`ran` of converseâ€ âŸ©
                â€” CalcCheck: Found (dom.203) â€œ`ran` of converseâ€
                â€” CalcCheck: â”€ OK
            dom (R Ë˜)
        âŠ† âŸ¨ â€œSubidentity `dom`â€ âŸ©
                â€” CalcCheck: Found (dom.204) â€œSubidentity `dom`â€
                â€” CalcCheck: â”€ OK
            ğ•€    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[27]
Theorem (dom.206) â€œSymmetry of `dom`â€ â€œConverse of `dom`â€:
    (dom R) Ë˜ = dom R
Proof:
    (dom R) Ë˜
  =âŸ¨ â€œ`dom` via âˆ©â€âŸ©
    (R â¨¾ R Ë˜ âˆ© ğ•€ ) Ë˜ 
  =âŸ¨ â€œConverse of âˆ©â€âŸ©
    (R â¨¾ R Ë˜) Ë˜ âˆ© ğ•€ Ë˜
  =âŸ¨ â€œConverse of â¨¾â€, â€œConverse of ğ•€â€, â€œSelf-inverse of Ë˜â€âŸ©
    R â¨¾ R Ë˜ âˆ© ğ•€
  =âŸ¨ â€œ`dom` via âˆ©â€âŸ©
    dom R 

Theorem (dom.206) â€œSymmetry of `dom`â€ â€œConverse of `dom`â€: dom R Ë˜ = dom R
Proof:
    Calculation for expected goal  `dom R Ë˜ = dom R`:
            dom R Ë˜
        = âŸ¨ â€œ`dom` via âˆ©â€ âŸ©
                â€” CalcCheck: Found (dom.200) â€œ`dom` via âˆ©â€
                â€” CalcCheck: â”€ OK
            (R â¨¾ R Ë˜ âˆ© ğ•€) Ë˜
        = âŸ¨ â€œConverse of âˆ©â€ âŸ©
                â€” CalcCheck: Found â€œConverse of âˆ©â€
                â€” CalcCheck: â”€ OK
            (R â¨¾ R Ë˜) Ë˜ âˆ© ğ•€ Ë˜
        = âŸ¨ â€œConverse of â¨¾â€, â€œConverse of ğ•€â€, â€œSelf-inverse of Ë˜â€ âŸ©
                â€” CalcCheck: Found â€œConverse of â¨¾â€
                â€” CalcCheck: Found â€œConverse of ğ•€â€
                â€” CalcCheck: Found â€œSelf-inverse of Ë˜â€
                â€” CalcCheck: â”€ OK
            R â¨¾ R Ë˜ âˆ© ğ•€
        = âŸ¨ â€œ`dom` via âˆ©â€ âŸ©
                â€” CalcCheck: Found (dom.200) â€œ`dom` via âˆ©â€
                â€” CalcCheck: â”€ OK
            dom R    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Calculation matches goal â”€ OK
[28]
Theorem (dom.212) â€œAbsorption of `dom`â€: dom R â¨¾ R = R
Proof:
  Using â€œMutual inclusionâ€:
    Subproof for `dom R â¨¾ R âŠ† R`:
        dom R â¨¾ R
      âŠ†âŸ¨ â€œMonotonicity of â¨¾â€ with â€œSubidentity `dom`â€, â€œIdentity of â¨¾â€âŸ©
        R
     
    Subproof for `R âŠ† dom R â¨¾ R`: 
        R
      =âŸ¨ â€œIdempotency of âˆ©â€âŸ©
        R âˆ© R 
      =âŸ¨ â€œIdentity of â¨¾â€âŸ©
        (ğ•€ â¨¾ R) âˆ© R
      âŠ†âŸ¨ â€œModal ruleâ€ âŸ© 
        ( ğ•€ âˆ© (R â¨¾ R Ë˜)) â¨¾ R
      =âŸ¨ â€œSymmetry of âˆ©â€âŸ© 
        (R â¨¾ R Ë˜ âˆ© ğ•€) â¨¾ R
      =âŸ¨ â€œ`dom` via âˆ©â€âŸ©
        dom R â¨¾ R  
â•â•â•  Q â¨¾ R âˆ© S âŠ† (Q âˆ© S â¨¾ R Ë˜) â¨¾ R

Theorem (dom.212) â€œAbsorption of `dom`â€: dom R â¨¾ R = R
Proof:
    Using â€œMutual inclusionâ€:       
        â€” CalcCheck: Found â€œMutual inclusionâ€
        Subproof for `dom R â¨¾ R âŠ† R`:
                    dom R â¨¾ R
                âŠ† âŸ¨ â€œMonotonicity of â¨¾â€ with â€œSubidentity `dom`â€, â€œIdentity of â¨¾â€ âŸ©
                        â€” CalcCheck: Found â€œLeft-monotonicity of â¨¾â€, â€œRight-monotonicity of â¨¾â€, â€œMonotonicity of â¨¾â€
                        â€” CalcCheck: Found (dom.204) â€œSubidentity `dom`â€
                        â€” CalcCheck: Found â€œIdentity of â¨¾â€
                        â€” CalcCheck: â”€ OK
                    R            
            â€” CalcCheck: All steps OK           
            â€” CalcCheck: Calculation matches goal â”€ OK
        Subproof for `R âŠ† dom R â¨¾ R`:
                    R
                = âŸ¨ â€œIdempotency of âˆ©â€ âŸ©
                        â€” CalcCheck: Found â€œIdempotency of âˆ©â€
                        â€” CalcCheck: â”€ OK
                    R âˆ© R
                = âŸ¨ â€œIdentity of â¨¾â€ âŸ©
                        â€” CalcCheck: Found â€œIdentity of â¨¾â€
                        â€” CalcCheck: â”€ OK
                    ğ•€ â¨¾ R âˆ© R
                âŠ† âŸ¨ â€œModal ruleâ€ âŸ©
                        â€” CalcCheck: Found â€œModal ruleâ€
                        â€” CalcCheck: â”€ OK
                    (ğ•€ âˆ© R â¨¾ R Ë˜) â¨¾ R
                = âŸ¨ â€œSymmetry of âˆ©â€ âŸ©
                        â€” CalcCheck: Found â€œSymmetry of âˆ©â€
                        â€” CalcCheck: OK (no change)
                        â€” CalcCheck: â”€ OK
                    (R â¨¾ R Ë˜ âˆ© ğ•€) â¨¾ R
                = âŸ¨ â€œ`dom` via âˆ©â€ âŸ©
                        â€” CalcCheck: Found (dom.200) â€œ`dom` via âˆ©â€
                        â€” CalcCheck: â”€ OK
                    dom R â¨¾ R            
            â€” CalcCheck: All steps OK           
            â€” CalcCheck: Calculation matches goal â”€ OK
[29]
Theorem (dom.213) â€œAbsorption of `ran`â€: R â¨¾ ran R = R
Proof:
    R â¨¾ ran R
  =âŸ¨ â€œ`ran` via âˆ©â€âŸ© 
    R â¨¾ (R Ë˜ â¨¾ R âˆ© ğ•€)
  âŠ†âŸ¨ â€œMonotonicity of â¨¾â€ with â€œWeakening for âˆ©â€âŸ©
    R â¨¾ ğ•€
  =âŸ¨ â€œIdentity of â¨¾â€âŸ©
    R
  =âŸ¨ â€œIdempotency of âˆ©â€âŸ©
    R âˆ© R
  =âŸ¨â€œIdentity of â¨¾â€âŸ©
    R â¨¾ ğ•€ âˆ© R
  âŠ†âŸ¨ â€œModal ruleâ€âŸ© 
    R â¨¾ (ğ•€ âˆ© (R Ë˜ â¨¾ R))
  =âŸ¨ â€œSymmetry of âˆ©â€âŸ©
    R â¨¾ (R Ë˜ â¨¾ R âˆ© ğ•€)
  =âŸ¨ â€œ`ran` via âˆ©â€ âŸ© 
    R â¨¾ ran R

Theorem (dom.213) â€œAbsorption of `ran`â€: R â¨¾ ran R = R
Proof:
    Calculation for expected goal  `R â¨¾ ran R = R`:
            R â¨¾ ran R
        = âŸ¨ â€œ`ran` via âˆ©â€ âŸ©
                â€” CalcCheck: Found (dom.201) â€œ`ran` via âˆ©â€
                â€” CalcCheck: â”€ OK
            R â¨¾ (R Ë˜ â¨¾ R âˆ© ğ•€)
        âŠ† âŸ¨ â€œMonotonicity of â¨¾â€ with â€œWeakening for âˆ©â€ âŸ©
                â€” CalcCheck: Found â€œLeft-monotonicity of â¨¾â€, â€œRight-monotonicity of â¨¾â€, â€œMonotonicity of â¨¾â€
                â€” CalcCheck: Found â€œWeakening for âˆ©â€
                â€” CalcCheck: A cycle of length 5 begins here.
                â€” CalcCheck: â”€ OK
            R â¨¾ ğ•€
        = âŸ¨ â€œIdentity of â¨¾â€ âŸ©
                â€” CalcCheck: Found â€œIdentity of â¨¾â€
                â€” CalcCheck: â”€ OK
            R
        = âŸ¨ â€œIdempotency of âˆ©â€ âŸ©
                â€” CalcCheck: Found â€œIdempotency of âˆ©â€
                â€” CalcCheck: â”€ OK
            R âˆ© R
        = âŸ¨ â€œIdentity of â¨¾â€ âŸ©
                â€” CalcCheck: Found â€œIdentity of â¨¾â€
                â€” CalcCheck: â”€ OK
            R â¨¾ ğ•€ âˆ© R
        âŠ† âŸ¨ â€œModal ruleâ€ âŸ©
                â€” CalcCheck: Found â€œModal ruleâ€
                â€” CalcCheck: â”€ OK
            R â¨¾ (ğ•€ âˆ© R Ë˜ â¨¾ R)
        = âŸ¨ â€œSymmetry of âˆ©â€ âŸ©
                â€” CalcCheck: Found â€œSymmetry of âˆ©â€
                â€” CalcCheck: OK (no change)
                â€” CalcCheck: â”€ OK
            R â¨¾ (R Ë˜ â¨¾ R âˆ© ğ•€)
        = âŸ¨ â€œ`ran` via âˆ©â€ âŸ©
                â€” CalcCheck: Found (dom.201) â€œ`ran` via âˆ©â€
                â€” CalcCheck: â”€ OK
            R â¨¾ ran R    
    â€” CalcCheck: All steps OK   
    â€” CalcCheck: Cyclic `_âŠ†_`-calculation matches goal â”€ OK
[30]
Theorem (dom.220) â€œLeast left-preserver is `dom`â€:
  d âŠ† ğ•€  âˆ§  R âŠ† d â¨¾ R  â‡’  dom R âŠ† d
Proof:
  Assuming (1) `d âŠ† ğ•€`,
           (2) `R âŠ† d â¨¾ R`:
         dom R
       =âŸ¨ â€œ`dom` via âˆ©â€âŸ©
         R â¨¾ R Ë˜ âˆ© ğ•€ 
       âŠ†âŸ¨ Monotonicity with Assumption (2)âŸ©
         d â¨¾ R â¨¾ R Ë˜ âˆ© ğ•€ 
       =âŸ¨ â€œAssociativity of â¨¾â€âŸ©
         d â¨¾ (R â¨¾ R Ë˜) âˆ© ğ•€
       âŠ†âŸ¨ â€œModal ruleâ€âŸ©
         d â¨¾ ((R â¨¾ R Ë˜) âˆ© d Ë˜ â¨¾ ğ•€)
       =âŸ¨ â€œIdentity of â¨¾â€âŸ©
         d â¨¾ ((R â¨¾ R Ë˜) âˆ© d Ë˜)
       âŠ†âŸ¨ Monotonicity with â€œWeakening for âˆ©â€âŸ©
         d â¨¾ d Ë˜
       =âŸ¨ â€œSymmetry of subidentityâ€ with Assumption (1), â€œIdempotency of subidentityâ€ with Assumption (1)âŸ© 
         d 

Theorem (dom.220) â€œLeast left-preserver is `dom`â€: d âŠ† ğ•€ âˆ§ R âŠ† d â¨¾ R â‡’ dom R âŠ† d
Proof:
    Assuming (1) `d âŠ† ğ•€` , (2) `R âŠ† d â¨¾ R`:
    â€” CalcCheck: Assumptions match goal
        Calculation for expected goal  `dom R âŠ† d`:
                dom R
            = âŸ¨ â€œ`dom` via âˆ©â€ âŸ©
                    â€” CalcCheck: Found (dom.200) â€œ`dom` via âˆ©â€
                    â€” CalcCheck: â”€ OK
                R â¨¾ R Ë˜ âˆ© ğ•€
            âŠ† âŸ¨ Monotonicity with Assumption (2) âŸ©
                    â€” CalcCheck: Found assumption (2)
                    â€” CalcCheck: â”€ OK
                d â¨¾ (R â¨¾ R Ë˜) âˆ© ğ•€
            = âŸ¨ â€œAssociativity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œAssociativity of â¨¾â€
                    â€” CalcCheck: OK (no change)
                    â€” CalcCheck: â”€ OK
                d â¨¾ (R â¨¾ R Ë˜) âˆ© ğ•€
            âŠ† âŸ¨ â€œModal ruleâ€ âŸ©
                    â€” CalcCheck: Found â€œModal ruleâ€
                    â€” CalcCheck: â”€ OK
                d â¨¾ (R â¨¾ R Ë˜ âˆ© d Ë˜ â¨¾ ğ•€)
            = âŸ¨ â€œIdentity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œIdentity of â¨¾â€
                    â€” CalcCheck: â”€ OK
                d â¨¾ (R â¨¾ R Ë˜ âˆ© d Ë˜)
            âŠ† âŸ¨ Monotonicity with â€œWeakening for âˆ©â€ âŸ©
                    â€” CalcCheck: Found â€œWeakening for âˆ©â€
                    â€” CalcCheck: â”€ OK
                d â¨¾ d Ë˜
            = âŸ¨ â€œSymmetry of subidentityâ€ with Assumption (1), â€œIdempotency of subidentityâ€ with Assumption (1) âŸ©
                    â€” CalcCheck: Found (dom.102) â€œSymmetry of subidentityâ€
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: Found (dom.103) â€œIdempotency of subidentityâ€
                    â€” CalcCheck: â”€ OK
                d        
        â€” CalcCheck: All steps OK       
        â€” CalcCheck: Calculation matches goal â”€ OK
[31]
Theorem (dom.221) â€œLeast right-preserver is `ran`â€:
  d âŠ† ğ•€  âˆ§  R âŠ† R â¨¾ d  â‡’  ran R âŠ† d
Proof:
    Assuming (1) `d âŠ† ğ•€`,
             (2) `R âŠ† R â¨¾ d`:
        ran R
      =âŸ¨ â€œ`ran` via âˆ©â€âŸ©
        R Ë˜ â¨¾ R âˆ© ğ•€
      âŠ†âŸ¨ Monotonicity with Assumption (2) âŸ©
        ((R â¨¾ d) Ë˜) â¨¾ R âˆ© ğ•€
      =âŸ¨ â€œConverse of â¨¾â€âŸ©
        (d Ë˜ â¨¾ R Ë˜) â¨¾ R âˆ© ğ•€
      =âŸ¨ â€œAssociativity of â¨¾â€âŸ©
        d Ë˜ â¨¾ (R Ë˜ â¨¾ R) âˆ© ğ•€
      âŠ†âŸ¨ â€œModal ruleâ€âŸ©
        d Ë˜ â¨¾ ((R Ë˜) â¨¾ R âˆ© (d Ë˜) Ë˜ â¨¾ ğ•€)  
      âŠ†âŸ¨â€œIdentity of â¨¾â€, â€œSelf-inverse of Ë˜â€, Monotonicity with â€œWeakening for âˆ©â€âŸ© 
        d Ë˜ â¨¾ d
      =âŸ¨ â€œSymmetry of subidentityâ€ with Assumption (1), â€œIdempotency of subidentityâ€ with Assumption (1)âŸ©
        d 

Theorem (dom.221) â€œLeast right-preserver is `ran`â€: d âŠ† ğ•€ âˆ§ R âŠ† R â¨¾ d â‡’ ran R âŠ† d
Proof:
    Assuming (1) `d âŠ† ğ•€` , (2) `R âŠ† R â¨¾ d`:
    â€” CalcCheck: Assumptions match goal
        Calculation for expected goal  `ran R âŠ† d`:
                ran R
            = âŸ¨ â€œ`ran` via âˆ©â€ âŸ©
                    â€” CalcCheck: Found (dom.201) â€œ`ran` via âˆ©â€
                    â€” CalcCheck: â”€ OK
                R Ë˜ â¨¾ R âˆ© ğ•€
            âŠ† âŸ¨ Monotonicity with Assumption (2) âŸ©
                    â€” CalcCheck: Found assumption (2)
                    â€” CalcCheck: â”€ OK
                (R â¨¾ d) Ë˜ â¨¾ R âˆ© ğ•€
            = âŸ¨ â€œConverse of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œConverse of â¨¾â€
                    â€” CalcCheck: â”€ OK
                (d Ë˜ â¨¾ R Ë˜) â¨¾ R âˆ© ğ•€
            = âŸ¨ â€œAssociativity of â¨¾â€ âŸ©
                    â€” CalcCheck: Found â€œAssociativity of â¨¾â€
                    â€” CalcCheck: OK (no change)
                    â€” CalcCheck: â”€ OK
                d Ë˜ â¨¾ (R Ë˜ â¨¾ R) âˆ© ğ•€
            âŠ† âŸ¨ â€œModal ruleâ€ âŸ©
                    â€” CalcCheck: Found â€œModal ruleâ€
                    â€” CalcCheck: â”€ OK
                d Ë˜ â¨¾ (R Ë˜ â¨¾ R âˆ© (d Ë˜) Ë˜ â¨¾ ğ•€)
            âŠ† âŸ¨ â€œIdentity of â¨¾â€, â€œSelf-inverse of Ë˜â€, Monotonicity with â€œWeakening for âˆ©â€ âŸ©
                    â€” CalcCheck: Found â€œIdentity of â¨¾â€
                    â€” CalcCheck: Found â€œSelf-inverse of Ë˜â€
                    â€” CalcCheck: Found â€œWeakening for âˆ©â€
                    â€” CalcCheck: â”€ OK
                d Ë˜ â¨¾ d
            = âŸ¨ â€œSymmetry of subidentityâ€ with Assumption (1), â€œIdempotency of subidentityâ€ with Assumption (1) âŸ©
                    â€” CalcCheck: Found (dom.102) â€œSymmetry of subidentityâ€
                    â€” CalcCheck: Found assumption (1)
                    â€” CalcCheck: Found (dom.103) â€œIdempotency of subidentityâ€
                    â€” CalcCheck: â”€ OK
                d        
        â€” CalcCheck: All steps OK       
        â€” CalcCheck: Calculation matches goal â”€ OK
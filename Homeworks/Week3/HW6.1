â€” Homework 6 Notebook 1: Quantification Expansion 1
[1]
Preloaded here is the inductive theory of natural numbers, as started in H4.1, with associativity and symmetry of addition and multiplication activated. In addition, order predicates

    _<_, _â‰¤_, _>_, _â‰¥_ : â„• â†’ â„• â†’ ğ”¹
are also preloaded â€” you wonâ€™t need any theorem names for any of these, since Evaluation is enabled here.

This notebook in addition has â€œQuantification expansionâ€ hint items enabled; the â€œQuantification expansionâ€ feature will be available only if explicitly mentioned.

With large ranges, â€œQuantification expansionâ€ internally produces huge expressions, and therefore can easily lead to time-outs, especially in invalid steps.

â€œQuantification expansionâ€ works only for certain simple range predicates, namely conjunctions of applications of order predicates (<, â‰¤, â‰¥, >) where one argument is one of the quantified variables and the other an expression that Evaluation can show to be equal to a value, that is, an expression built only from constants and operators registered for built-in functions. Together, all these predicates need to constrain all quantified variables to finite ranges.

All the range predicates you will see here are obviously of that shape, since the operators <, â‰¤, â‰¥ and > are conjunctional (so that â€œ1 â‰¤ i < 4â€ is just â€œsyntactic sugarâ€ for â€œ1 â‰¤ i âˆ§ i < 4â€).

In this notebook, only one hint item is allowed in each hint.

Quantifications with the kind of simple range predicates as described above can be simplified easily, as the following example shows:

[2]
Calculation:
    âˆ‘ i : â„• â™ 1 â‰¤ i < 4 â€¢ i Â· i
  =âŸ¨ Quantification expansion âŸ©
      (i Â· i)[i â‰” 1]
    + (i Â· i)[i â‰” 2]
    + (i Â· i)[i â‰” 3]
  =âŸ¨ Substitution âŸ©
    1 Â· 1 + 2 Â· 2 + 3 Â· 3
  =âŸ¨ Evaluation âŸ©
    1 + 4 + 9
  =âŸ¨ Evaluation âŸ©
    14

Calculation:
        (âˆ‘ i : â„• â™ 1 â‰¤ i < 4 â€¢ i Â· i )
    = âŸ¨ Quantification expansion âŸ©
            â€” CalcCheck: â”€ OK
        ((i Â· i)[i â‰” 1] + (i Â· i)[i â‰” 2]) + (i Â· i)[i â‰” 3]
    = âŸ¨ Substitution âŸ©
            â€” CalcCheck: â”€ OK
        (1 Â· 1 + 2 Â· 2) + 3 Â· 3
    = âŸ¨ Evaluation âŸ©
            â€” CalcCheck: â”€ OK
        (1 + 4) + 9
    = âŸ¨ Evaluation âŸ©
            â€” CalcCheck: â”€ OK
        14
â€” CalcCheck: All steps OK
[3]
Remember that you can break long expressions over several lines, as shown here.

Also be aware that the â€œbig operatorâ€ âˆ‘ for sum quantification is obtained by typing \sum, and âˆ for product is obtained by typing \product.

(These are different Unicode codepoints from the Greek letters Î£ obtained via \Sigma and Î  obtained via \Pi.)

For a (sum) quantification â€œâˆ‘ i : T â™ R â€¢ Eâ€, the symbol â€œâ™â€ is obtained by typing â€œ\withâ€, and the symbol â€œâ€¢â€ is obtained by typing â€œ\spotâ€.

Note that unlike the textbook, we do not require parentheses enclosing the whole quantification expression; following other formalisms, the scope of the dummies (here â€œiâ€) extends â€œas far as syntactically possibleâ€.

Now you try â€” and you are expected to be able to handle such questions without the aid of a calculator:

[4]
Calculation:
    âˆ‘ i : â„• â™ 5 â‰¤ i < 8 â€¢ i Â· (i + 1)
  =âŸ¨ Quantification expansion âŸ©
    (i Â· (i + 1)) [i â‰” 5]
    + (i Â· (i + 1)) [i â‰” 6]
    + (i Â· (i + 1)) [i â‰” 7]
  =âŸ¨ Substitution âŸ©
    (5 Â· (5 + 1)) + (6 Â· (6 + 1)) + (7 Â· (7 + 1))
  =âŸ¨ Evaluation âŸ©
    30 + 42 + 56
  =âŸ¨ Evaluation âŸ©
    128



    

Calculation:
        (âˆ‘ i : â„• â™ 5 â‰¤ i < 8 â€¢ i Â· (i + 1) )
    = âŸ¨ Quantification expansion âŸ©
            â€” CalcCheck: â”€ OK
        ((i Â· (i + 1))[i â‰” 5] + (i Â· (i + 1))[i â‰” 6]) + (i Â· (i + 1))[i â‰” 7]
    = âŸ¨ Substitution âŸ©
            â€” CalcCheck: â”€ OK
        (5 Â· (5 + 1) + 6 Â· (6 + 1)) + 7 Â· (7 + 1)
    = âŸ¨ Evaluation âŸ©
            â€” CalcCheck: â”€ OK
        (30 + 42) + 56
    = âŸ¨ Evaluation âŸ©
            â€” CalcCheck: â”€ OK
        128
â€” CalcCheck: All steps OK
[5]
Calculation:
    âˆ i : â„• â™ 2 â‰¤ i < 5 â€¢ 4 + i
  =âŸ¨ Quantification expansion âŸ©
    (4 + i) [i â‰” 2]
    Â· (4 + i) [i â‰” 3]
    Â· (4 + i) [i â‰” 4]
  =âŸ¨ Substitution âŸ©
    (4 + 2) Â· (4 + 3) Â· (4 + 4)
  =âŸ¨ Evaluation âŸ©
    6 Â· 7 Â· 8
  =âŸ¨ Evaluation âŸ©
    336
 

Calculation:
        (âˆ i : â„• â™ 2 â‰¤ i < 5 â€¢ 4 + i )
    = âŸ¨ Quantification expansion âŸ©
            â€” CalcCheck: â”€ OK
        ((4 + i)[i â‰” 2] Â· (4 + i)[i â‰” 3]) Â· (4 + i)[i â‰” 4]
    = âŸ¨ Substitution âŸ©
            â€” CalcCheck: â”€ OK
        ((4 + 2) Â· (4 + 3)) Â· (4 + 4)
    = âŸ¨ Evaluation âŸ©
            â€” CalcCheck: â”€ OK
        (6 Â· 7) Â· 8
    = âŸ¨ Evaluation âŸ©
            â€” CalcCheck: â”€ OK
        336
â€” CalcCheck: All steps OK